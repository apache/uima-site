<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">


    <!-- ====================================================================== -->
    <!-- GENERATED FILE, DO NOT EDIT, EDIT THE XML FILE IN xdocs INSTEAD! -->
    <!-- ====================================================================== -->
    <html>
        <head>
            <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
            <style type="text/css">@import "stylesheets/base.css";</style>
                                          <meta name="author" value="
 UIMA Documentation Team">
  <meta name="email" value="dev@uima.apache.org">
                        
            
                        
                        <title>Apache UIMA - How we use Maven for building</title>
        </head>

        <body>
          <div class="topLogos">        
            <table border="0" width="100%" cellspacing="0">
                <!-- TOP IMAGE -->
                <tr>
                    <td align='LEFT'>
                      <a href="index.html">
                                    <img style="border: 1px solid black;" src="./images/UIMA_banner2tlp.png" alt="UIMA project logo" border="0"/>
                            </a>
                    </td>
                    <td align='CENTER'>
                          <div class="pageBanner">How we use Maven for building</div>
                    </td>
                    <td align='RIGHT'>
                                  <a href="http://www.apache.org">
        <img src="./images/asf-logo-on-white-small.png" alt="Apache UIMA" border="0"/>
      </a>
                          </td>
                </tr>
            </table>
            <hr noshade="" size="1"/>
            </div>
            <table border="0" width="100%" cellspacing="4">
              <tr>
                <td align='RIGHT' colspan="2">
                  <form method="get" action="http://www.google.com/search">
                    Search the site
                    <input type="text"   name="q" size="25" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="http://uima.apache.org/" />
                    <input name="Search" value="Search Site" type="submit"/>
                  </form>
                </td>
              </tr>
              <tr> <!-- LEFT SIDE NAVIGATION -->
                <td width="20%" valign="top">






                   <!-- regular menu -->
                      <div class="navBar">
                  <br/>
            <div class="navBarItem">      <div class="navPartHeading">General</div>
                </div>
                <div class="navBar">
                  <div class="navBarItem">      <a href="./index.html">Home</a>
                </div>
                          <div class="navBarItem">      <a href="./downloads.cgi">Downloads</a>
                </div>
                          <div class="navBarItem">      <a href="./documentation.html">Documentation</a>
                </div>
                          <div class="navBarItem">      <a href="./news.html">News</a>
                </div>
                    <br style="line-height: .5em"/>
                          <div class="navBarItem">      <a href="./mail-lists.html">Mailing Lists</a>
                </div>
                          <div class="navBarItem">      <a href="./mail-lists.html#Apache_UIMA_Forums">Forums</a>
                    <a href="http://news.gmane.org/gmane.comp.apache.uima.general" target="_blank"><em> Users</em> <img src="images/offsitelink.png" /></a>
                  <a href="http://news.gmane.org/gmane.comp.apache.uima.devel" target="_blank"><em>Dev</em> <img src="images/offsitelink.png" /></a>
              </div>
                    <br style="line-height: .5em"/>
                          <div class="navBarItem">      <a href="http://issues.apache.org/jira/browse/uima" target="_blank">Issue tracker <img src="images/offsitelink.png"</a>
                </div>
                          <div class="navBarItem">      <a href="http://cwiki.apache.org/UIMA/" target="_blank">Wiki <img src="images/offsitelink.png"</a>
                </div>
            </div>
                      <br/>
            <div class="navBarItem">      <div class="navPartHeading">Components & Tools</div>
                </div>
                <div class="navBar">
                  <div class="navBarItem">      <a href="./annotators.html">Annotators</a>
                </div>
                          <div class="navBarItem">      <a href="./toolsServers.html">Tools & Servers</a>
                </div>
                          <div class="navBarItem">      <a href="./sandbox.html">Sandbox</a>
                </div>
                          <div class="navBarItem">      <a href="./external-resources.html">External Resources</a>
                </div>
            </div>
                      <br/>
            <div class="navBarItem">      <div class="navPartHeading">Community</div>
                </div>
                <div class="navBar">
                  <div class="navBarItem">      <a href="./get-involved.html">Get Involved</a>
                </div>
                          <div class="navBarItem">      <a href="./contribution-policy.html">Contribution Policies</a>
                </div>
                          <div class="navBarItem">      <a href="./faq.html">FAQ</a>
                </div>
                          <div class="navBarItem">      <a href="./project-guidelines.html">Project Guidelines</a>
                </div>
            </div>
                      <br/>
            <div class="navBarItem">      <div class="navPartHeading">Development</div>
                </div>
                <div class="navBar">
                  <div class="navBarItem">      <a href="./svn.html">Source Code</a>
                </div>
                          <div class="navBarItem">      <a href="./distribution.html">Creating a Distribution</a>
                </div>
                          <div class="navBarItem">      <a href="./release.html">Doing a UIMA release</a>
                </div>
                          <div class="navBarItem">      <a href="./codeConventions.html">Code Conventions</a>
                </div>
                          <div class="navBarItem">      <a href="./uima-specification.html">UIMA Specification (OASIS)</a>
                </div>
                          <div class="navBarItem">      <a href="./team-list.html">Project Team</a>
                </div>
            </div>
                      <br/>
            <div class="navBarItem">      <div class="navPartHeading">Events and Conferences</div>
                </div>
                <div class="navBar">
                  <div class="navBarItem">      <a href="./iks09.html">IKS 2009</a>
                </div>
                          <div class="navBarItem">      <a href="./gscl09.html">GSCL 2009</a>
                </div>
                          <div class="navBarItem">      <a href="./lsm09.html">LSM 2009</a>
                </div>
                          <div class="navBarItem">      <a href="./lrec08.html">LREC 2008</a>
                </div>
                          <div class="navBarItem">      <a href="./gldv07.html">GLDV 2007</a>
                </div>
            </div>
                      <br/>
            <div class="navBarItem">      <div class="navPartHeading">ASF</div>
                </div>
                <div class="navBar">
                  <div class="navBarItem">      <a href="./license.html">License</a>
                </div>
                          <div class="navBarItem">      <a href="http://apache.org/foundataion/thanks.html" target="_blank">ASF Sponsors <img src="images/offsitelink.png"</a>
                </div>
                          <div class="navBarItem">      <a href="http://www.apache.org/foundation/sponsorship.html" target="_blank">ASF Sponsorship <img src="images/offsitelink.png"</a>
                </div>
            </div>
        </div>
                </td>
                <td width="80%" align="left" valign="top">
                                                          <div class="sectionTable">
      <table class="sectionTable">
        <tr><td>
        <a name="POM Conventions"><h1><img src="images/UIMA_4sq50tightCropSolid.png"/>&nbsp;POM Conventions</h1></a>
      </td></tr>
      <tr><td>
        <blockquote class="sectionBody">
                                    <p>We follow the conventions regarding the layout of the POM as specified 
    <a target="_blank" href="http://maven.apache.org/developers/conventions/code.html#POM_Code_Convention">
      here</a>.</p>
                            </blockquote>
        </p>
      </td></tr>
    </table>
                                        <div class="sectionTable">
      <table class="sectionTable">
        <tr><td>
        <a name="Our POM hierarchy"><h1><img src="images/UIMA_4sq50tightCropSolid.png"/>&nbsp;Our POM hierarchy</h1></a>
      </td></tr>
      <tr><td>
        <blockquote class="sectionBody">
                                    <p>POMs have two kinds of hierarchy. The main one is used for factoring out common 
things and arranges POMs in a parent-child hierarchy, by having the child 
identify the parent POM.  The other kind is aggregation - POMs which specify sub-modules
for purposes of building multi-module things, and releasing them all at once.  For clarity,
we keep these two uses in separate POMs:  parent POMs do not do aggregation, 
and aggregation POMs do not do common factoring.</p>
                                                <p>Our parent poms are kept in a folder, under a top level SCM node called "build", which holds things
  needed for building, but which are not part of normal aggregate distributions.
  Aggregation POMs are kept with the SCM node focused on those modules being aggregated.</p>
                                                <p class="note">A recent change in Maven 3 now requires that POMs whose parent poms are not in the
    parent directory, have an empty &lt;relativePath/&gt; element.</p>
                            </blockquote>
        </p>
      </td></tr>
    </table>
                                        <div class="sectionTable">
      <table class="sectionTable">
        <tr><td>
        <a name="POM style"><h1><img src="images/UIMA_4sq50tightCropSolid.png"/>&nbsp;POM style</h1></a>
      </td></tr>
      <tr><td>
        <blockquote class="sectionBody">
                                    <p>When writing a new POM, it is best to start with an existing POM for a similar
    kind of project, and derive the new POM from that.  Some points:
    <ul>
      <li>POMs contain a &lt;url&gt; element.  If they don't, they will inherit from their parent
        following an assumption that the url is the parent url value followed by "/" and
        this POMs artifactId.  This may or may not be how our website is set up, so 
        it is best to just code the url that is correct for the new project.</li>
      <li>The SCM connection is needed for releasing - and needs to be accurate for this
        component.</li>
      <li>The POM's "version" is stated literally, not via a "property", etc.  Maven 3 
        will complain if you use properties here, and the release mechanism for maven
        manipulates these values (removing SNAPSHOT, incrementing things, etc.)</li>
      <li>The POM's groupId is usually omitted - in which case, it inherits from the
        parent.  Doing this is a recommended best practice.</li>      
    </ul>
    </p>
                                                <p>Maven 3 has more requirements on POMs
    <p>A transition to Maven 3 is occuring in 2010.  The Eclipse plugin, m2eclipse, "embeds" 
      Maven 3 already.</p>
    <ul>
      <li>Property names have to include their path from project, etc.   For instance, you cannot use
        ${version}, you have to use ${project.version}.</li>
    </ul></p>
                            </blockquote>
        </p>
      </td></tr>
    </table>
                                        <div class="sectionTable">
      <table class="sectionTable">
        <tr><td>
        <a name="Handling Documentation"><h1><img src="images/UIMA_4sq50tightCropSolid.png"/>&nbsp;Handling Documentation</h1></a>
      </td></tr>
      <tr><td>
        <blockquote class="sectionBody">
                                    <p>Kinds of documentation:</p>
                                                <ul>
    <li>Javadoc</li>
    <li>The source itself</li>
    <li>Docbook</li>
    <li>UIMA Website (Anakia)</li>
    </ul>
                                                <p>For each Java source artifact, the Apache standard parent POM builds and attaches 
    a <ul><li>source zip, and a</li><li>Javadocs zip</li></ul>
  to the main Jar artifact.  It doesn't do any standard actions for other documentation (e.g., docbook style).</p>
                                                <p>We use Docbook style for much of our other documentation, 
    the main exception being our website, which uses Anakia.
    See <a href="dev-docbook.html">the development docbook page</a> for details.</p>
                                                <p>Normally, all website content is kept in SVN in the uima/site/trunk/uima-website/docs directory; this directory is
    checked out into the right spot on people.apache.org.  For large generated documents, 
    we have the option to generate them from sources in svn, and deploy them directly to the right spot on people.apache.org.  This avoids
    using SVN for large generated files.  This satisfies the 
    <a href="http://apache.org/dev/project-site.html" target="_blank">requirements</a>
    for Apache websites.</p>
                            </blockquote>
        </p>
      </td></tr>
    </table>
                                        <div class="sectionTable">
      <table class="sectionTable">
        <tr><td>
        <a name="Building Assemblies for Distribution"><h1><img src="images/UIMA_4sq50tightCropSolid.png"/>&nbsp;Building Assemblies for Distribution</h1></a>
      </td></tr>
      <tr><td>
        <blockquote class="sectionBody">
                                    <p>The normal operation of Maven is concerned with the building of individual modules.  Each module
    when built produces maven artifacts in repositories (your local repository, or perhaps uploaded 
    to a snapshot or staging repository).</p>
                                                <p>When releases are done, additional artifacts are constructed using the distribution assemblies.
     </p>
                                                <h2>Distribution Pom - Clean phase</h2>
                                                <p>The clean phase
    of the distribution POMs includes running the dependency:purge-local-repository plugin 
    to purge the local repository of dependencies.    
  </p>
                            </blockquote>
        </p>
      </td></tr>
    </table>
                                        <div class="sectionTable">
      <table class="sectionTable">
        <tr><td>
        <a name="Parent Pom Hierarchy"><h1><img src="images/UIMA_4sq50tightCropSolid.png"/>&nbsp;Parent Pom Hierarchy</h1></a>
      </td></tr>
      <tr><td>
        <blockquote class="sectionBody">
                                    <p>Parent pom names start with parent-pom-:</p>
                                                <pre>
  top
  
    docbook
    
      uimaj
      
        uimaj-eclipse-plugins
        
          uimaj-eclipse-plugins-ibm-notice
          
        uimaj-ibm-notice         
  </pre>
                            </blockquote>
        </p>
      </td></tr>
    </table>
                                  </td>
                </tr>
                <!-- FOOTER -->
                <tr><td colspan="2">
                  <hr noshade="" size="1"/>
                </td></tr>
                <tr><td colspan="2"> 
                  <table class="pageFooter">
                    <tr>
                      <td><a href="index.html">Home</a></td>
                      <td><a href="privacy-policy.html">Privacy Policy</a></td>
                      <td>
                Copyright &#169; 2006-2009, The Apache Software Foundation
                      </td>
                      <td><a href="mailto:dev@uima.apache.org">Contact us</a></td>
                    </tr>
                  </table>                    
                </td></tr>
            </table>
        </body>
    </html>

