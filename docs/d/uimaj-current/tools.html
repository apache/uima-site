<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="author" content="Apache UIMA™ Development Community">
<title>Apache UIMA™ - Tools</title>
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Apache UIMA™ - Tools</h1>
<div class="details">
<span id="author" class="author">Apache UIMA™ Development Community</span><br>
<span id="revnumber">version 3.5.0</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">UIMA Tools</div>
<ul class="sectlevel1">
<li><a href="#ugr.tools.cde">1. Component Descriptor Editor User&#8217;s Guide</a>
<ul class="sectlevel2">
<li><a href="#ugr.tools.cde.launching">1.1. Launching the Component Descriptor Editor</a></li>
<li><a href="#ugr.tools.cde.creating_new_ae_descriptor">1.2. Creating a New AE Descriptor</a></li>
<li><a href="#ugr.tools.cde.pages_within_the_editor">1.3. Pages within the Editor</a>
<ul class="sectlevel3">
<li><a href="#ugr.tools.cde.adjusting_display_of_pages">1.3.1. Adjusting the display of pages</a></li>
</ul>
</li>
<li><a href="#ugr.tools.cde.overview_page">1.4. Overview Page</a>
<ul class="sectlevel3">
<li><a href="#ugr.tools.cde.overview_page.implementation_details">1.4.1. Implementation Details</a></li>
<li><a href="#ugr.tools.cde.overview_page.runtime_info">1.4.2. Runtime Information</a></li>
<li><a href="#ugr.tools.cde.overview_page.overall_id_info">1.4.3. Overall Identification Information</a></li>
</ul>
</li>
<li><a href="#ugr.tools.cde.aggregate_page">1.5. Aggregate Page</a>
<ul class="sectlevel3">
<li><a href="#ugr.tools.cde.aggregate_page.adding_components_more_than_once">1.5.1. Adding components more than once</a></li>
<li><a href="#ugr.tools.cde.aggregate_page.adding_removing_components_from_flow">1.5.2. Adding or Removing components in a flow</a></li>
<li><a href="#ugr.tools.cde.aggregate_page.adding_remote_aes">1.5.3. Adding remote Analysis Engines</a></li>
<li><a href="#ugr.tools.cde.aggregate_page.connecting_to_remote_services">1.5.4. Connecting to Remote Services</a></li>
<li><a href="#ugr.tools.cde.aggregate_page.finding_aes_by_searching">1.5.5. Finding Analysis Engines by searching</a></li>
<li><a href="#ugr.tools.cde.aggregate_page.component_engine_flow">1.5.6. Component Engine Flow</a></li>
</ul>
</li>
<li><a href="#ugr.tools.cde.parm_definition">1.6. Parameters Definition Page</a>
<ul class="sectlevel3">
<li><a href="#ugr.tools.cde.parm_definition.using_groups">1.6.1. Using groups</a></li>
<li><a href="#ugr.tools.cde.parm_definition.adding">1.6.2. Adding or Editing a Parameter</a></li>
<li><a href="#ugr.tools.cde.parm_definition.aggregates">1.6.3. Parameter declarations for Aggregates</a></li>
</ul>
</li>
<li><a href="#ugr.tools.cde.parameter_settings">1.7. Parameter Settings Page</a></li>
<li><a href="#ugr.tools.cde.type_system">1.8. Type System Page</a>
<ul class="sectlevel3">
<li><a href="#ugr.tools.cde.type_system.exporting">1.8.1. Exporting</a></li>
</ul>
</li>
<li><a href="#ugr.tools.cde.capabilities">1.9. Capabilities Page</a>
<ul class="sectlevel3">
<li><a href="#ugr.tools.cde.capabilities.sofa_name_mapping">1.9.1. Sofa (and view) name mappings</a></li>
</ul>
</li>
<li><a href="#ugr.tools.cde.indexes">1.10. Indexes Page</a></li>
<li><a href="#ugr.tools.cde.resources">1.11. Resources Page</a>
<ul class="sectlevel3">
<li><a href="#ugr.tools.cde.resources.binding">1.11.1. Binding</a></li>
<li><a href="#ugr.tools.cde.resources.aggregates">1.11.2. Resources with Aggregates</a></li>
<li><a href="#ugr.tools.cde.resources.imports_exports">1.11.3. Imports and Exports</a></li>
</ul>
</li>
<li><a href="#ugr.tools.cde.source">1.12. Source Page</a>
<ul class="sectlevel3">
<li><a href="#ugr.tools.cde.source.formatting">1.12.1. Source formatting – indentation</a></li>
</ul>
</li>
<li><a href="#ugr.tools.cde.creating_self_contained_type_system">1.13. Creating a Self-Contained Type System</a></li>
<li><a href="#ugr.tools.cde.creating_other_descriptor_components">1.14. Creating Other Descriptor Components</a></li>
</ul>
</li>
<li><a href="#ugr.tools.cpe">2. Collection Processing Engine Configurator User&#8217;s Guide</a>
<ul class="sectlevel2">
<li><a href="#ugr.tools.cpe.limitations">2.1. Limitations of the CPE Configurator</a></li>
<li><a href="#ugr.tools.cpe.starting">2.2. Starting the CPE Configurator</a></li>
<li><a href="#ugr.tools.cpe.selecting_component_descriptors">2.3. Selecting Component Descriptors</a></li>
<li><a href="#ugr.tools.cpe.running">2.4. Running a Collection Processing Engine</a></li>
<li><a href="#ugr.tools.cpe.file_menu">2.5. The File Menu</a></li>
<li><a href="#ugr.tools.cpe.help_menu">2.6. The Help Menu</a></li>
</ul>
</li>
<li><a href="#ugr.tools.doc_analyzer">3. Document Analyzer User&#8217;s Guide</a>
<ul class="sectlevel2">
<li><a href="#ugr.tools.doc_analyzer.starting">3.1. Starting the Document Analyzer</a></li>
<li><a href="#ugr.tools.doc_analyzer.running_an_ae">3.2. Running an AE</a></li>
<li><a href="#ugr.tools.doc_analyzer.viewing_results">3.3. Viewing the Analysis Results</a></li>
<li><a href="#ugr.tools.doc_analyzer.configuring">3.4. Configuring the Annotation Viewer</a></li>
<li><a href="#ugr.tools.doc_analyzer.interactive_mode">3.5. Interactive Mode</a></li>
<li><a href="#ugr.tools.doc_analyzer.view_mode">3.6. View Mode</a></li>
</ul>
</li>
<li><a href="#ugr.tools.annotation_viewer">4. Annotation Viewer</a></li>
<li><a href="#ugr.tools.cvd">5. CAS Visual Debugger</a>
<ul class="sectlevel2">
<li><a href="#ugr.tools.cvd.introduction">5.1. Introduction</a>
<ul class="sectlevel3">
<li><a href="#ugr.cvd.introduction.running">5.1.1. Running CVD</a></li>
<li><a href="#_cvd.introduction.commandline">5.1.2. Command line parameters</a></li>
</ul>
</li>
<li><a href="#_cvd.errorhandling">5.2. Error Handling</a></li>
<li><a href="#_cvd.preferencesfile">5.3. Preferences File</a></li>
<li><a href="#_cvd.themenus">5.4. The Menus</a>
<ul class="sectlevel3">
<li><a href="#_cvd.filemenu">5.4.1. The File Menu</a></li>
<li><a href="#_cvd.editmenu">5.4.2. The Edit Menu</a></li>
<li><a href="#_cvd.runmenu">5.4.3. The Run Menu</a></li>
<li><a href="#_cvd.toolsmenu">5.4.4. The tools menu</a>
<ul class="sectlevel4">
<li><a href="#_cvd.viewtypesystem">View Type System</a></li>
<li><a href="#_cvd.showselectedannotations">Show Selected Annotations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_cvd.maindisplayarea">5.5. The Main Display Area</a>
<ul class="sectlevel3">
<li><a href="#_cvd.statusbar">5.5.1. The Status Bar</a></li>
<li><a href="#_cvd.keyboardnavigation">5.5.2. Keyboard Navigation and Shortcuts</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#ugr.tools.eclipse_launcher">6. Eclipse Analysis Engine Launcher&#8217;s Guide</a>
<ul class="sectlevel2">
<li><a href="#ugr.tools.eclipse_launcher.create_configuration">6.1. Creating an Analysis Engine launch configuration</a></li>
<li><a href="#ugr.tools.eclipse_launcher.launching">6.2. Launching an Analysis Engine</a></li>
</ul>
</li>
<li><a href="#ugr.tools.ce">7. Cas Editor User&#8217;s Guide</a>
<ul class="sectlevel2">
<li><a href="#_sandbox.caseditor.introduction">7.1. Introduction</a></li>
<li><a href="#_sandbox.caseditor.launching">7.2. Launching the Cas Editor</a>
<ul class="sectlevel3">
<li><a href="#_sandbox.caseditor.typesystemspec">7.2.1. Specifying a type system</a></li>
</ul>
</li>
<li><a href="#_sandbox.caseditor.annotation_editor">7.3. Annotation editor</a>
<ul class="sectlevel3">
<li><a href="#ugr.tools.cas_editor.annotation_editor.editor">7.3.1. Editor</a></li>
<li><a href="#_sandbox.caseditor.annotation_editor.styling">7.3.2. Configure annotation styling</a></li>
<li><a href="#ugr.tools.cas_editor.annotation_editor.cas_views">7.3.3. CAS view support</a></li>
<li><a href="#ugr.tools.cas_editor.annotation_editor.outline">7.3.4. Outline view</a></li>
<li><a href="#ugr.tools.cas_editor.annotation_editor.properties_view">7.3.5. Edit Views</a></li>
<li><a href="#ugr.tools.cas_editor.annotation_editor.fs_view">7.3.6. FeatureStructure View</a></li>
</ul>
</li>
<li><a href="#ugr.tools.cas_editor.custom_view">7.4. Implementing a custom Cas Editor View</a>
<ul class="sectlevel3">
<li><a href="#ugr.tools.cas_editor.custom_view.sample">7.4.1. Annotation Status View Sample</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#ugr.tools.jcasgen">8. JCasGen User&#8217;s Guide</a>
<ul class="sectlevel2">
<li><a href="#ugr.tools.jcasgen.running_without_eclipse">8.1. Running stand-alone without Eclipse</a></li>
<li><a href="#ugr.tools.jcasgen.running_standalone_with_eclipse">8.2. Running stand-alone with Eclipse</a></li>
<li><a href="#ugr.tools.jcasgen.running_within_eclipse">8.3. Running within Eclipse</a></li>
<li><a href="#ugr.tools.jcasgen.maven_plugin">8.4. Using the jcasgen-maven-plugin</a></li>
</ul>
</li>
<li><a href="#ugr.tools.pear.packager">9. PEAR Packager User&#8217;s Guide</a>
<ul class="sectlevel2">
<li><a href="#ugr.tools.pear.packager.using_eclipse_plugin">9.1. Using the PEAR Eclipse Plugin</a>
<ul class="sectlevel3">
<li><a href="#ugr.tools.pear.packager.add_uima_nature">9.1.1. Add UIMA Nature to your project</a></li>
<li><a href="#ugr.tools.pear.packager.using_pear_generation_wizard">9.1.2. Using the PEAR Generation Wizard</a>
<ul class="sectlevel4">
<li><a href="#ugr.tools.pear.packager.wizard.component_information">The Component Information page</a></li>
<li><a href="#ugr.tools.pear.packager.wizard.install_environment">The Installation Environment page</a></li>
<li><a href="#ugr.tools.pear.packager.wizard.file_content">The PEAR file content page</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#ugr.tools.pear.packager.using_command_line">9.2. Using the PEAR command line packager</a></li>
</ul>
</li>
<li><a href="#ugr.tools.pear.packager.maven.plugin.usage">10. The PEAR Packaging Maven Plugin</a>
<ul class="sectlevel2">
<li><a href="#ugr.tools.pear.packager.maven.plugin.usage.configure">10.1. Specifying the PEAR Packaging Maven Plugin</a></li>
<li><a href="#ugr.tools.pear.packager.maven.plugin.usage.dependencies">10.2. Automatically including dependencies</a></li>
<li><a href="#ugr.tools.pear.packager.maven.plugin.commandline">10.3. Running from the command line</a></li>
<li><a href="#ugr.tools.pear.packager.maven.plugin.install.src">10.4. Building the PEAR Packaging Plugin From Source</a></li>
</ul>
</li>
<li><a href="#ugr.tools.pear.installer">11. PEAR Installer User&#8217;s Guide</a></li>
<li><a href="#ugr.tools.pear.merger">12. PEAR Merger User&#8217;s Guide</a>
<ul class="sectlevel2">
<li><a href="#ugr.tools.pear.merger.merge_details">12.1. Details of the merging process</a></li>
<li><a href="#ugr.tools.pear.merger.testing_modifying_resulting_pear">12.2. Testing and Modifying the resulting PEAR</a></li>
<li><a href="#ugr.tools.pear.merger.restrictions_limitations">12.3. Restrictions and Limitations</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Copyright © 2006, 2021 The Apache Software Foundation</p>
</div>
<div class="paragraph">
<p>Copyright © 2004, 2006 International Business Machines Corporation</p>
</div>
<h4 id="_license_and_disclaimer" class="discrete">License and Disclaimer</h4>
<div class="paragraph">
<p>The ASF licenses this documentation to you under the Apache License, Version 2.0 (the "License");
you may not use this documentation except in compliance with the License.  You may obtain a copy of
the License at</p>
</div>
<div class="paragraph text-center">
<p><a href="http://www.apache.org/licenses/LICENSE-2.0" class="bare">http://www.apache.org/licenses/LICENSE-2.0</a></p>
</div>
<div class="paragraph">
<p>Unless required by applicable law or agreed to in writing, this documentation and its contents are
distributed under the License on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
either express or implied.  See the License for the specific language governing permissions and
limitations under the License.</p>
</div>
<h4 id="_trademarks" class="discrete">Trademarks</h4>
<div class="paragraph">
<p>All terms mentioned in the text that are known to be trademarks or service marks have been
appropriately capitalized.  Use of such terms in this book should not be regarded as affecting the
validity of the the trademark or service mark.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ugr.tools.cde"><a class="anchor" href="#ugr.tools.cde"></a>1. Component Descriptor Editor User&#8217;s Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Component Descriptor Editor is an Eclipse plug-in that provides a forms-based interface for creating and editing UIMA XML descriptors.
It supports most of the descriptor formats, except the Collection Processing Engine descriptor, the PEAR package descriptor and some remote deployment descriptors.</p>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.launching"><a class="anchor" href="#ugr.tools.cde.launching"></a>1.1. Launching the Component Descriptor Editor</h3>
<div class="paragraph">
<p>Here&#8217;s how to launch this tool on a descriptor contained in the examples.
This presumes you have installed the examples as described in the SDK Installation and Setup chapter.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Expand the uimaj-examples project in the Eclipse Navigator or Package Explorer view</p>
</li>
<li>
<p>Within this project, browse to the file descriptors/tutorial/ex1/RoomNumberAnnotator.xml.</p>
</li>
<li>
<p>Right-click on this file and select Open With →Component Descriptor Editor. (If this option is not present, check to make sure you <a href="oas.html#ugr.ovv.eclipse_setup.installation">installed the plug-ins</a>. The EMF plugin is also required.)</p>
</li>
<li>
<p>This should open a graphical editor and display the contents of the RoomNumberAnnotator descriptor.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.creating_new_ae_descriptor"><a class="anchor" href="#ugr.tools.cde.creating_new_ae_descriptor"></a>1.2. Creating a New AE Descriptor</h3>
<div class="paragraph">
<p>A new AE descriptor file may be created by selecting the File →New →Other&#8230;&#8203; menu.
This brings up the following dialog:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image002.jpg" alt="Screenshot of selecting new UIMA component in Eclipse">
</div>
<div class="title">Figure 1. Screenshot of selecting new UIMA component in Eclipse</div>
</div>
<div class="paragraph">
<p>If the user then selects UIMA and Analysis Engine Descriptor File, and clicks the <em>Next</em> button, the following dialog is displayed.
We will cover creating other kinds of components later in the documentation.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image004.jpg" alt="Screenshot of selecting new UIMA component in Eclipse after pushing Next">
</div>
<div class="title">Figure 2. Screenshot of selecting new UIMA component in Eclipse after pushing Next</div>
</div>
<div class="paragraph">
<p>After entering the appropriate parent folder and file name, and clicking Finish, an initial AE descriptor file is created with the given name, and the descriptor is opened up within the Component Descriptor Editor.</p>
</div>
<div class="paragraph">
<p>At this point, the display inside the Component Descriptor Editor is the same whether one started by creating a new AE descriptor, as in the preceding paragraph, or one merely opened a previously created AE descriptor from, say, the Package Explorer view.
We show a previously created AE in the figure below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image006.jpg" alt="Screenshot of CDE showing overview page">
</div>
<div class="title">Figure 3. Screenshot of CDE showing overview page</div>
</div>
<div class="paragraph">
<p>To see all the information shown in the main editor pane with less scrolling, double click the title tab to toggle between the &#8220;full screen&#8221; and normal views.</p>
</div>
<div class="paragraph">
<p>It is possible to set the Component Descriptor Editor as the default editor for all .xml files by going to Window →Preferences, and then selecting File Associations on the left, and *.xml on the right, and finally by clicking on Component Descriptor Editor, the Default button and then OK.
If AE and Type System descriptors are not the primary .xml files you work with within the Eclipse environment, we recommend not setting the Component Descriptor Editor as your default editor for all .xml files.
To open an .xml file using the Component Descriptor Editor, if the Component Descriptor Editor is not set as your default editor, right click on the file in the Package Explorer, or other navigational view, and select Open With →Component Descriptor Editor.
This choice is remembered by Eclipse for subsequent open operations.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.pages_within_the_editor"><a class="anchor" href="#ugr.tools.cde.pages_within_the_editor"></a>1.3. Pages within the Editor</h3>
<div class="paragraph">
<p>The Component Descriptor Editor follows a standard Eclipse paradigm for these kinds of editors.
There are several pages in the editor; each one can be selected, one at a time, by clicking on the bottom tabs.
The last page contains the actual XML source file being edited, and is displayed as plain text.</p>
</div>
<div class="paragraph">
<p>The same set of tabs appear at the bottom of each page in the Component Descriptor Editor.
The Component Descriptor Editor uses this &#8220;multi-page editor&#8221; paradigm to give the user a view of conceptually distinct portions of the Descriptor metadata in separate pages.
At any point in time the user may click on the Source tab to view the actual XML source.
The Component Descriptor Editor is, in a way, just a fancy GUI for editing the XML.
The tabs provide quick access to the following pages: Overview, Aggregate, Parameters, Parameter Settings, Type System, Capabilities, Indexes, Resources, and Source.
We discuss each of these pages in turn.</p>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.adjusting_display_of_pages"><a class="anchor" href="#ugr.tools.cde.adjusting_display_of_pages"></a>1.3.1. Adjusting the display of pages</h4>
<div class="paragraph">
<p>Most pages in the editor have a &#8220;sash&#8221; bar.
This is a light gray bar which separates sub-sections of the page.
This bar can be dragged with the mouse to adjust how the display area is split between the two sash panes.
You can also change the orientation of the Sash so it splits vertically, instead of horizontally, by clicking on the small icons at the top right of the page that look like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image008.jpg" alt="Changing orientation of two window split">
</div>
<div class="title">Figure 4. Changing orientation of two window split</div>
</div>
<div class="paragraph">
<p>All of the sections on a page have subtitles, with an indicator to the left which you can click to collapse or expand that particular section.
Collapsing sections can sometimes be useful to free up screen area for other sections.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.overview_page"><a class="anchor" href="#ugr.tools.cde.overview_page"></a>1.4. Overview Page</h3>
<div class="paragraph">
<p>Normally, the first page displayed in the Component Descriptor Editor is the Overview page (the name of the page is shown in the GUI panel at the top left). If there is an error reading and parsing the source, the Source page is shown instead, giving you the opportunity to correct the problem.
For many components, the Overview page contains three sections: Implementation Details, Runtime Information and overall Identification Information.</p>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.overview_page.implementation_details"><a class="anchor" href="#ugr.tools.cde.overview_page.implementation_details"></a>1.4.1. Implementation Details</h4>
<div class="paragraph">
<p>In the Implementation Details section you specify the Implementation Language and Engine Type.
There are two kinds of Engines: Aggregate, and non-Aggregate (also called Primitive). An Aggregate engine is one which is composed of additional component engines and contains no code, itself.
Several of the pages in the Component Descriptor Editor have different formats, depending on the engine type.</p>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.overview_page.runtime_info"><a class="anchor" href="#ugr.tools.cde.overview_page.runtime_info"></a>1.4.2. Runtime Information</h4>
<div class="paragraph">
<p>Runtime information is only applicable for primitive engines and is disabled for aggregates and other kinds of descriptors.
This is where you specify the class name of the annotator implementation, if you are doing a Java implementation, or the C++ shared object or dll name, if you are doing a C++ implementation.
Most Analysis Engines will specify that they update the CAS, and that they may be replicated (for performance reasons) when deployed.
If a particular Analysis Engine must see every CAS (for instance, if it is counting the number of CASes), then uncheck the &#8220;multiple deployment allowed&#8221; box.
If the Analysis Engine doesn&#8217;t update the CAS, uncheck the &#8220;updates the CAS&#8221; box.
(Most CAS Consumers do not update the CAS, and this parameter defaults to unchecked for new CAS Consumer descriptors).</p>
</div>
<div class="paragraph">
<p>Analysis engines are written using the <a href="tug.html#-ugr.tug.cm">CAS Multiplier APIs</a>  can create additional CASes for analysis.
To specify that they do this, check the <code>returns new artifacts</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.overview_page.overall_id_info"><a class="anchor" href="#ugr.tools.cde.overview_page.overall_id_info"></a>1.4.3. Overall Identification Information</h4>
<div class="paragraph">
<p>The Name should be a human-readable name that describes this component.
The Version, Vendor, and Description fields are optional, and are arbitrary strings.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.aggregate_page"><a class="anchor" href="#ugr.tools.cde.aggregate_page"></a>1.5. Aggregate Page</h3>
<div class="paragraph">
<p>For primitive Analysis Engines, Flow Controllers or Collection Processing components, the Aggregate page is not used.
For aggregate engines, the page looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image010.jpg" alt="CDE Aggregate page">
</div>
<div class="title">Figure 5. CDE Aggregate page</div>
</div>
<div class="paragraph">
<p>On the left we see a list of component engines, and on the right information about the flow.
If you hover the mouse over an item in the list of component engines, that engine&#8217;s description meta data will be shown.
If you right-click on one of these items, you get an option to open that delegate descriptor in another editor instance.
Any changes you make, however, won&#8217;t be seen until you close and reopen the editor on the importing file.</p>
</div>
<div class="paragraph">
<p>Engines can be added to the list on the left by clicking the Add button at the bottom of the Component Engine section.
This brings up one of the following two dialogs:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/import-by-location.jpg" alt="Adding an Analysis Engine to an Aggregate, by location">
</div>
<div class="title">Figure 6. Adding an Analysis Engine to an Aggregate, by location</div>
</div>
<div class="paragraph">
<p>This dialog lets you select a descriptor from your workspace, or browse the file system to select a descriptor.</p>
</div>
<div class="paragraph">
<p>Or, if you have selected to import by name, this dialog is shown:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/import-by-name.jpg" alt="Adding an Analysis Engine to an Aggregate, by name">
</div>
<div class="title">Figure 7. Adding an Analysis Engine to an Aggregate, by name</div>
</div>
<div class="paragraph">
<p>You can specify that the import should be by Name (the name is looked up using both the Project&#8217;s class path, and DataPath), or by location.
If it is by name,  the dialog shows the available xml files on the class path, to pick from.
If the one you want isn&#8217;t showing, this means it isn&#8217;t on the enclosing Eclipse Java Project&#8217;s classpath, nor on the datapath, and one of those needs to be updated to include the  path to the resource.
If the name picked is <code>com/company/prod/xyz.xml</code>, the name in the descriptor will be &#8220;`com.company.prod.xyz`&#8221;.
The "Browse the file system&#8230;&#8203;" button is disabled when import by name is checked, because the file system is not the source of the imports - rather, its the resources on the  classpath or datapath that are.</p>
</div>
<div class="paragraph">
<p>If it is by location, the file reference is converted to a relative reference if possible, in the descriptor.</p>
</div>
<div class="paragraph">
<p>The final selection at the bottom tells whether or not the selected engine(s) should automatically be added to the end of the flow section (the right section on the Aggregate page). The OK button does not become activated until a descriptor file is selected.</p>
</div>
<div class="paragraph">
<p>To remove an analysis engine from the component engine list simply select an engine and click the Remove button, or press the delete key.
If the engine is already in the flow list you will be warned that deletion will also delete the specified engine from this list.</p>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.aggregate_page.adding_components_more_than_once"><a class="anchor" href="#ugr.tools.cde.aggregate_page.adding_components_more_than_once"></a>1.5.1. Adding components more than once</h4>
<div class="paragraph">
<p>Components may be added to the left panel more than once.
Each of these components will be given a key which is unique.
A typical reason this might be done is to use a component in a flow several times, but have each use be associated with different configuration parameters (different configuration parameters can be associated with each instance).</p>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.aggregate_page.adding_removing_components_from_flow"><a class="anchor" href="#ugr.tools.cde.aggregate_page.adding_removing_components_from_flow"></a>1.5.2. Adding or Removing components in a flow</h4>
<div class="paragraph">
<p>The button in-between the Component Engines and the Flow List, labeled <code>&gt;&gt;</code>, adds a chosen engine to the flow list and the button labeled <code>&lt;&lt;</code> removes an engine from the flow list.
To add an engine to the flow list you must first select an engine from the left hand list, and then press the <code>&gt;&gt;</code> button.
Engines may appear any number of times in the flow list.
To remove an engine from the flow list, select an engine from the right hand list and press the <code>&lt;&lt;</code> button.</p>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.aggregate_page.adding_remote_aes"><a class="anchor" href="#ugr.tools.cde.aggregate_page.adding_remote_aes"></a>1.5.3. Adding remote Analysis Engines</h4>
<div class="paragraph">
<p>There are two ways to add remote engines: add an existing descriptor, which specifies a remote engine (just as if you were adding a non-remote engine) or use the <em>Add Remote</em> button which will create a remote descriptor, save it, and then import it, all in one operation.
The <em>Add Remote</em> button enables you to easily specify the information needed to create a remote service descriptor for a remote AE - one that runs on a different computer connected over the network.
There are 3 kinds of  these: two are variants of the <a href="ref.html#ugr.ref.xml.component_descriptor.service_client">Service Client descriptor</a>; the other is the UIMA-AS JMS Service descriptor, described in the UIMA AS documentation.
The <em>Add Remote</em> button creates an instance of one of these descriptors,  saves it as a file in the workspace, and imports it into the aggregate.</p>
</div>
<div class="paragraph">
<p>Of course, if you already have a remote service descriptor, you can add it to the set of delegates using the <code>Add</code> button, just like adding other kinds of analysis engines.</p>
</div>
<div class="paragraph">
<p>After clicking on <em>Add Remote</em>, the following dialog is displayed:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image014v2.jpg" alt="Adding a remote client to an aggregate">
</div>
<div class="title">Figure 8. Adding a remote client to an aggregate</div>
</div>
<div class="paragraph">
<p>To define a remote service you specify the Service Kind, Protocol Service Type, URI and Key.
You can also specify a Timeout in milliseconds, used by the JMS services, and a VNS Host and Port used by the Vinci Service.
The JMS service has additional timeouts and other parameters you may specify.
Just like when one adds an engine from the file system, you have the option of adding the engine to the end of the flow.
The Component Descriptor Editor currently only supports Vinci services using this dialog.</p>
</div>
<div class="paragraph">
<p>Remote engines are added to the descriptor using the &lt;import &#8230;&#8203; &gt; syntax.
The information you specify here is saved in the Eclipse project as a file, using a generated name, <code>&lt;key-name&gt;.xml</code>, where <code>&lt;key-name&gt;</code> is the name you listed as the Key.
Because of this, the key-name must be a valid file name.
If you want a different name, you can change the path information in the dialog box.</p>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.aggregate_page.connecting_to_remote_services"><a class="anchor" href="#ugr.tools.cde.aggregate_page.connecting_to_remote_services"></a>1.5.4. Connecting to Remote Services</h4>
<div class="paragraph">
<p>If you are using the Vinci protocol, it requires that you specify the location of the Vinci Name Server (an IP address and a Port number). You can specify these in the service descriptor, or globally, for your Eclipse workspace, using the Eclipse menu item: Window →Preferences&#8230;&#8203; →UIMA Preferences.</p>
</div>
<div class="paragraph">
<p>If the remote service is available (up and running), additional operations become possible.
For instance, hovering the mouse over the remote descriptor will show the description metadata from the remote service.</p>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.aggregate_page.finding_aes_by_searching"><a class="anchor" href="#ugr.tools.cde.aggregate_page.finding_aes_by_searching"></a>1.5.5. Finding Analysis Engines by searching</h4>
<div class="paragraph">
<p>The next button that appears between the component engine list and the flow list is the Find AE button.
When this button is pressed the following dialog is displayed, which allows one to search for AEs by name, by input or output types, or by a combination of these criteria.
This function searches the existing Eclipse workspace for matching *.xml descriptor source files; it does not look inside Jar files.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image016.jpg" alt="Searching for an AE to add to an aggregate">
</div>
<div class="title">Figure 9. Searching for an AE to add to an aggregate</div>
</div>
<div class="paragraph">
<p>The search automatically adds a &#8220;match any characters&#8221; - style (<strong>) wildcard at the beginning and end of anything entered.
Thus, if person is specified for an output type, a &#8220;*person</strong>&#8221; search is performed.
Such a search would match such things as &#8220;my.namespace.person&#8221; and &#8220;person.governmentOfficial.&#8221; One can search in all projects or one particular project.
The search does an implicit <em>and</em> on all fields which are left non-blank.</p>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.aggregate_page.component_engine_flow"><a class="anchor" href="#ugr.tools.cde.aggregate_page.component_engine_flow"></a>1.5.6. Component Engine Flow</h4>
<div class="paragraph">
<p>The UIMA SDK currently supports three kinds of <a href="ref.html#ugr.ref.xml.component_descriptor.aes.aggregate.flow_constraints">sequencing flows</a>: <code>Fixed</code>, <code>CapabilityLanguageFlow</code>, and user-defined. The first two require specification of a linear flow sequence; this linear flow sequence can also be read by a user-defined flow controller (what use is made of it is up to the user-defined flow controller). The Component Engine Flow section allows specification of these items.</p>
</div>
<div class="paragraph">
<p>The pull-down labeled Flow Kind picks between the three flow models.
When the user-defined flow is selected, the Browse and Search buttons become enabled to let you pick the flow controller XML descriptor to import.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image018.jpg" alt="Specifying flow control">
</div>
<div class="title">Figure 10. Specifying flow control</div>
</div>
<div class="paragraph">
<p>The key name value is set automatically from the XML descriptor being imported, and enables parameters to be overridden for that descriptor (see following sections).</p>
</div>
<div class="paragraph">
<p>The Up and Down buttons to the right in the Flow section are activated when an engine in the flow is selected.
The Up button moves the selected engine up one place in the execution order, and down moves the selected engine down one place in the execution order.
Remember that engines can appear multiple times in the flow (or not at all).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.parm_definition"><a class="anchor" href="#ugr.tools.cde.parm_definition"></a>1.6. Parameters Definition Page</h3>
<div class="paragraph">
<p>There are two pages for parameters: the first one is where parameters are defined, and the second one is where the parameter settings are configured.
The first page is the Parameter Definition page and has two alternatives, depending on whether or not the descriptor is an Aggregate or not.
We start with a description of parameter definitions for Primitive engines, CAS Consumers, Collection Readers, CAS Initializers, and Flow Controllers.
Here is an example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image020.jpg" alt="Parameter Definitions - not Aggregate">
</div>
<div class="title">Figure 11. Parameter Definitions - not Aggregate</div>
</div>
<div class="paragraph">
<p>The first checkbox at the top simplifies things if you are not using Parameter Groups (see the following section for a discussion of groups). In this case, leave the check box unchecked.
The main area shows a list of parameter definitions.
Each parameter has a name, which must be unique for this Analysis Engine.
The first three attributes specify whether the parameter can have a single or multiple values (an array of values), whether it is Optional or Mandatory, and what the value type it can hold (String, Integer, Float, and Boolean).  If an external override name has been specified  an attribute of "XO" is included.
See <a href="ref.html#ugr.ref.xml.component_descriptor.aes.external_configuration_parameter_overrides">External Configuration Parameter Overrides</a> for a discussion of external configuration parameter overrides.</p>
</div>
<div class="paragraph">
<p>In addition to using the buttons on the right to edit this information, you can double-click a parameter to edit it, or remove (delete) a selected parameter by pressing the delete key.
Use the Add button to add a new parameter to the list.</p>
</div>
<div class="paragraph">
<p>Parameters have an additional description field, which you can specify when you add or edit a parameter.
To see the value of the description, hover the mouse over the item, as shown in the picture below.
If the parameter has an external override name its value is included in the hover.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image022.jpg" alt="Parameter description shown in a hover message">
</div>
<div class="title">Figure 12. Parameter description shown in a hover message</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.parm_definition.using_groups"><a class="anchor" href="#ugr.tools.cde.parm_definition.using_groups"></a>1.6.1. Using groups</h4>
<div class="paragraph">
<p>The group concept for parameters arose from the observation that sets of parameters were sometimes associated with different configuration needs.
As an example, you might have an Analysis Engine which needed different configuration based on the language of a document.</p>
</div>
<div class="paragraph">
<p>To use groups, you check the &#8220;Use Parameter Groups&#8221; box.
When you do this, you get the ability to add groups, and to define parameters within these groups.
You also get a capability to define &#8220;Common&#8221; parameters, which are parameters which are defined for all groups.
Here is a screen shot showing some parameter groups in use:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image024.jpg" alt="Using parameter groups">
</div>
<div class="title">Figure 13. Using parameter groups</div>
</div>
<div class="paragraph">
<p>You can see the <code>&lt;Common&gt;</code> parameters as well as two different sets of groups.</p>
</div>
<div class="paragraph">
<p>The Default Group is an optional specification of what Group to use if the parameter is not available for the group requested.</p>
</div>
<div class="paragraph">
<p>The <a href="ref.html#ugr.ref.xml.component_descriptor.aes.configuration_parameter_declaration">Search strategy</a> specifies what to do when a parameter is not available for the group requested.
It can have the values of <code>None</code>, <code>language_fallback</code>, or <code>default_fallback</code>.</p>
</div>
<div class="paragraph">
<p>Groups are added using the <em>Add Group</em> button.
Once added, they can be edited or removed, using the buttons to the right, or the standard gestures for editing (double-clicking the item) and removing (pressing the delete key after an item is selected). Removing a group removes all the parameter definitions in the group.
If you try and remove the <code>&lt;Common&gt;</code> group, it just removes the parameters in the group.</p>
</div>
<div class="paragraph">
<p>Each entry for a group in the table specifies one or more group names.
For example, the highlighted entry above, specifies two groups: <code>myNewGroup2</code> and <code>mg3</code>.
The parameter definition underneath is considered to be in both groups.</p>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.parm_definition.adding"><a class="anchor" href="#ugr.tools.cde.parm_definition.adding"></a>1.6.2. Adding or Editing a Parameter</h4>
<div class="paragraph">
<p>When creating or modifying a parameter both a unique name and a valid type must be specified.
The Description and External Override fields are optional.
The defaults for the two checkboxs indicate a single-valued optional parameter in the example below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image025.jpg" alt="Aggregate parameters">
</div>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.parm_definition.aggregates"><a class="anchor" href="#ugr.tools.cde.parm_definition.aggregates"></a>1.6.3. Parameter declarations for Aggregates</h4>
<div class="paragraph">
<p>Aggregates declare parameters which always must override a parameter setting for a component making up the aggregate.
They do this using the version of this page which is shown when the descriptor is an Aggregate; here&#8217;s an example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image026.jpg" alt="Aggregate parameters">
</div>
</div>
<div class="paragraph">
<p>There is an additional panel shown (on the right) which lists all of the components by their key names, and shows for each of them their defined parameters.
To add a new override for one or more of these parameters to the aggregate, select the component parameter you wish to override and push the Create Override button (or, you can just double-click the component parameter). This will automatically add a parameter of the same name (by default –you can change the name if you like) to the aggregate, putting it into the same group(s) (if groups are being used in the component –this is required), and setting the properties of the parameter to match those of the component (this is required).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the name of the parameter being added already is in use in the aggregate, and the parameters are not compatible, a new parameter name is generated by suffixing the name with a number.
If the parameters are compatible, the selected component parameter is added to the existing aggregate parameter, as an additional override.
If you don&#8217;t want this behavior, but want to have a new name generated in this case, push the Create non-shared Override button instead, or hold down the &#8220;shift&#8221; key when double clicking the component parameter.</p>
</div>
<div class="paragraph">
<p>The required / optional setting in the aggregate parameter is set to match that of the parameter being overridden.
You may want to make an optional delegate parameter required.
You can do this by changing that value manually in the source editor view.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the above example, the user has just double-clicked the <code>TypeNames</code> parameter in the <code>NameRecognizer</code> component.
This added that parameter to this aggregate under the <code>&lt;Not in any group&gt;</code> section&#8201;&#8212;&#8201;since it wasn&#8217;t part of a group.</p>
</div>
<div class="paragraph">
<p>Once you have added a parameter definition to the aggregate, you can use the buttons on the right side of the left panel to add additional overrides or remove parameters or their overrides. You can also remove groups; removing a group is like removing all the parameter definitions in the group.</p>
</div>
<div class="paragraph">
<p>In addition to adding one parameter at a time from a component, you can also add all the parameters for a group within a component, or all the parameters in the component, by selecting those items.</p>
</div>
<div class="paragraph">
<p>If you double-click (or push <em>Create Override</em>) the <code>&lt;Common&gt;</code> group or a parameter in the <code>&lt;Common&gt;</code> group in a component, a special group is created in the Aggregate consisting of all of the groups in that component, and the overriding parameter (or parameters) are added to that.
This is done because each component can have different groups belonging to the Common group notion; the Common group for a component is just shorthand for all the groups in that component.</p>
</div>
<div class="paragraph">
<p>The Aggregate&#8217;s specification of the default group and search strategy override any specifications contained in the components.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.parameter_settings"><a class="anchor" href="#ugr.tools.cde.parameter_settings"></a>1.7. Parameter Settings Page</h3>
<div class="paragraph">
<p>The Parameter Settings page is rather straightforward; it is where the user defines parameter settings for their engines.
An example of such a page is given below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image028.jpg" alt="Parameter settings page">
</div>
<div class="title">Figure 14. Parameter settings page</div>
</div>
<div class="paragraph">
<p>For single valued attributes, the user simply types the default value into the Value box on the right hand side.
For multi-valued parameters the user should use the Add, Edit and Remove buttons to manage the list of multiple parameter values.</p>
</div>
<div class="paragraph">
<p>Values within groups are shown with each group separately displayed, to allow configuring different values for each group.</p>
</div>
<div class="paragraph">
<p>Values are checked for validity.
For Boolean values in a list, use the words <code>true</code> or <code>false</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you specify a value in a single-valued parameter, and then delete all the characters in the value, the CDE will treat this as if you wanted to not specify any setting for this parameter.
In order to specify a 0 length string setting for a String-valued parameter, you will have to manually edit the XML using the &#8220;Source&#8221; tab.</p>
</div>
<div class="paragraph">
<p>For array valued parameters, if you remove all of the entries for a particular array parameter setting, the XML will reflect a 0-length array.
To change this to an unspecified parameter setting, you will have to manually edit the XML using the &#8220;Source&#8221; tab.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.type_system"><a class="anchor" href="#ugr.tools.cde.type_system"></a>1.8. Type System Page</h3>
<div class="paragraph">
<p>This page declares the type system used by the annotator.
For aggregates it is derived by merging the type systems of all constituent AEs.
The types used by the AE constitute the language in which the inputs and outputs are described in the Capabilities page and also affect the choice of indexes on the Indexes page.
The Type System page looks like the following:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/limitJCasGenType.jpg" alt="Type System declaration page">
</div>
</div>
<div class="paragraph">
<p>Before discussing this page in detail, it is important to note that there are 3 settings that affect the operation of this page.
These are accessed by selecting the UIMA →Settings (or by going to the Eclipse Window →Preferences →UIMA Preferences) and checking or unchecking one of the following: &#8220;Auto generate
      .java files when defining types&#8221;, &#8220;Generate JCasGen classes only for types defined within the local project scope&#8221;  and &#8220;Display fully qualified type
      names.&#8221;</p>
</div>
<div class="paragraph">
<p>When the Auto generate option is checked and the development language for the AE is Java, any time a change is made to a type and the change is saved, the corresponding .java files are generated using the JCasGen tool.
The results are stored in the primary source directory defined for the project.
The primary source directory is that listed first when you right click on your project and select Properties →Java Build Path, click on the Source tab and look in the list box under the text that reads: <em>Source folder on build path</em>.
If no source folders are defined, you will get a warning that you have no source folders defined and <a href="#ugr.tools.jcasgen">JCasGen</a> will not be run.
When JCasGen is run, you can monitor the progress of the generation by observing the status on the Eclipse status line (normally at the bottom of the Eclipse window).
JCasGen runs on the fully-merged type system, consisting of the type specification plus any imported type system, plus (for aggregates) the merged type systems of all the components in an aggregate.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the components of the aggregate have different definitions for the same  type name, the CDE will show a warning.
It is possible to continue past this warning, in which case the CDE will produce the correct  Java source files representing the merged types (that is, the type definition that contains all of the features defined on that type by all of your components). However, it is not recommended to use this feature (of having different definitions for the same type name) since it can make it difficult to <a href="ref.html#ugr.ref.jcas.merging_types_from_other_specs">combine/package</a> your annotator with others.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>In addition to running automatically, you can manually run JCasGen on the fully merged type system by clicking the JCasGen button, or by selecting Run JCasGen from the UIMA pulldown menu:</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image032.jpg" alt="Setting JCasGen options">
</div>
<div class="title">Figure 15. Setting JCasGen options</div>
</div>
<div class="paragraph">
<p>When <em>Generate JCasGen classes only for types defined within the local project scope</em> is checked, then JCasGen skips generating classes for types that are imported from sources outside this project.
This might be done, for instance, if you have an aggregate which is importing type systems from its delegates, some of which are defined in other projects, and have JCasGen&#8217;d files already present in those other projects.</p>
</div>
<div class="paragraph">
<p>The UIMA settings and preferences for controlling this are used to initialize a particular instance of the editor, when it is started.
Following that, you can override this setting, just for that editor, by checking or unchecking the box shown on the type system page:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/limitJCasGen.jpg" alt="Limit the scope of JCasGen">
</div>
<div class="title">Figure 16. Limit the scope of JCasGen</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If this is checked, and one of the types that would be excluded has merged type features, an error message is issued - because JCasGen will need to be run for the combined (merged) type in order to get a class definition that will work for this configuration (have access to all the features).  If this happens, you have to run without limiting JCasGen, and manually delete any duplicated/unwanted source results.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When <em>Display fully qualified type names</em> is left unchecked, the namespace of types is not displayed, i.e.
if a fully qualified type name is my.namespace.person, only the abbreviated type name person will be displayed.
In the Type page diagram shown above, <em>Display fully qualified type names</em> is in fact unchecked.</p>
</div>
<div class="paragraph">
<p>To add, edit, or remove types the buttons on the top left section are used.
When adding or editing types, fully qualified type names should of course be used, regardless of whether the <em>Display fully qualified type names</em> is unchecked.
Removing or editing a type will have a cascading effect in that the type removal/edit will effect inputs, outputs, indexes and type priorities in the natural way.</p>
</div>
<div class="paragraph">
<p>When a type is added, this dialog is shown:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image034.jpg" alt="Adding a type">
</div>
<div class="title">Figure 17. Adding a type</div>
</div>
<div class="paragraph">
<p>Type names should be specified using a namespace.
The namespace is like a Java package name, and serves to insure type names are unique.
It also serves as the package name for the generated JCas classes.
The namespace name is the set of names up to the last period in the string.</p>
</div>
<div class="paragraph">
<p>The supertype must be picked from an existing type.
The entry field for the supertype supports Eclipse-style content assist.
To use it, put the cursor in the supertype field, and type a letter or two of the supertype name (lower case is fine), either starting with the name space, or just with the type name (without the name space), and hold down the Control key and then press the spacebar.
When you do this, you can see a list of suitable matching types.
You can then type more letters to narrow down your choices, or pick the right entry with the mouse.</p>
</div>
<div class="paragraph">
<p>To see the available types and pick one, press the Browse button.
This will show the available types, and as you type letters for the type name (in lower case –capitalization is ignored), the available types that match are narrowed.
When you&#8217;ve typed enough to specify the type you want, press Enter.
Or you can use the list of matching type names and pick the one you want with the mouse.</p>
</div>
<div class="paragraph">
<p>Once you&#8217;ve added the type, you can add features to it by highlighting the type, and pressing the Add button.</p>
</div>
<div class="paragraph">
<p>If the type being defined is a subtype of uima.cas.String, the Add button allows you to add allowed values for the string, instead of adding features.</p>
</div>
<div class="paragraph">
<p>To edit a type or feature, you can double click the entry, or highlight the entry and press the Edit button.
To delete a type or feature, you highlight the entry to be deleted, and click the delete button or push the delete key.</p>
</div>
<div class="paragraph">
<p>If the range of a feature is an array or one of the built-in list types, an additional specification allows you to specify if multiple references to the object referenced by this feature are allowed.
If they are not allowed then the XMI serialization of instances of this type use a more efficient format.</p>
</div>
<div class="paragraph">
<p>If the range of a feature is an array of Feature Structures, then it is possible to specify an element type for the array.
This information is used in the XMI serialization and also by the JCas generation routines to generate more efficient code.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image036.jpg" alt="Specifying a Feature Structure">
</div>
<div class="title">Figure 18. Specifying a Feature Structure</div>
</div>
<div class="paragraph">
<p>It is also possible to import type systems for inclusion in your descriptor.
To do this, use the Type Import panel&#8217;s <em>Add&#8230;&#8203;</em> button.
This allows you to import a type system descriptor.</p>
</div>
<div class="paragraph">
<p>When importing by name, the name is resolved using the class path for the Eclipse project containing the descriptor file being edited, or by looking up this name in the UIMA DataPath.
The DataPath can be set by pushing the Set DataPath button.
It will be remembered for this Eclipse project, as a project Property, so you only have to set it once (per project). The value of the DataPath setting is written just like a class path, and can include directories or JAR files, just as is true for class paths.</p>
</div>
<div class="paragraph">
<p>The following dialog allows you to pick one or more files from the Eclipse workspace, or one file (at a time) from the file system:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/import-chooser.jpg" alt="Picking files for importing">
</div>
<div class="title">Figure 19. Picking files for importing</div>
</div>
<div class="paragraph">
<p>This is essentially the same dialog as was used to add component engines to an aggregate.
To import from a type system descriptor that is not part of your Eclipse workspace, click the <em>Browse the file system&#8230;&#8203;</em> button.</p>
</div>
<div class="paragraph">
<p>Imported types are validated, and if OK, they are added to the list in the Imported Type Systems section of the Type System page.
Any types they define are merged with the existing type system.</p>
</div>
<div class="paragraph">
<p>Imported types and features which are only defined in imports are shown in the Type System section, but in a grayed-out font; these type cannot be edited here.
To change them, open up the imported type system descriptor, and change them there.</p>
</div>
<div class="paragraph">
<p>If you hover the mouse over an import specification, it will show more information about the import.
If you right-click, it will bring up a context menu that allows opening the imported file in the Editor, if the imported file is part of the Eclipse workspace.
Changes you make, however, won&#8217;t be seen until you close and reopen the editor on the importing file.</p>
</div>
<div class="paragraph">
<p>It is not possible to define types for an aggregate analysis engine.
In this case the type system is computed from the component AEs.
The Type System information is shown in a grayed-out font.</p>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.type_system.exporting"><a class="anchor" href="#ugr.tools.cde.type_system.exporting"></a>1.8.1. Exporting</h4>
<div class="paragraph">
<p>In addition to importing type specifications, you can export as well.
When you push the <em>Export&#8230;&#8203;</em> button, the editor will create a new importable XML descriptor for the types in this type system, and change the existing descriptor to import that newly created one.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image040.jpg" alt="Exporting a type system">
</div>
</div>
<div class="paragraph">
<p>The base file name you type is inserted into the path in the line below automatically.
You can change the path where the generated part descriptor is stored by overtyping the lower text box.
When you click OK, the new part descriptor will be generated, and the current descriptor will be changed to import that part.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.capabilities"><a class="anchor" href="#ugr.tools.cde.capabilities"></a>1.9. Capabilities Page</h3>
<div class="paragraph">
<p>Capabilities come in <em>sets</em>.
You can have multiple sets of capabilities; each one specifies languages supported, plus inputs and outputs of the Analysis Engine.
The idea behind having multiple sets is the concept that different inputs can result in different outputs.
Many Analysis Engines, though, will probably define just one set of capabilities.
A sample Capabilities page is given below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image042.jpg" alt="Capabilities page">
</div>
</div>
<div class="paragraph">
<p>When defining the capabilities of a primitive analysis engine, input and output types can be any type defined in the type system.
When defining the capabilities of an aggregate the inputs must be a subset of the union of the inputs in the constituent analysis engines and the outputs must be a subset of the union of the outputs of the constituent analysis engines.</p>
</div>
<div class="paragraph">
<p>To add a type, first select something in the set you wish to add the type to, and press Add Type.
The following dialog appears presenting the user with a list of types which are candidates for additional inputs:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image044.jpg" alt="Adding a type to the capabilities page">
</div>
</div>
<div class="paragraph">
<p>Follow the instructions to mark the types as input and / or output (a type can be both). By default, the &lt;all features&gt; flag is set to true.
If you want to specify a subset of features of a type, read on.</p>
</div>
<div class="paragraph">
<p>When types have features, you can specify what features are input and / or output.
A type doesn&#8217;t have to be an output to have an output feature.
For example, an Analysis Engine might be passed as input a type Token, and it adds (outputs) a feature to the existing Token types.
If no new Token instances were created, it would not be an output Type, but it would have features which are output.</p>
</div>
<div class="paragraph">
<p>To specify features as input and / or output (they can be both), select a type, and press Add.
The following dialog box appears:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image046.jpg" alt="Specifying features as input or output">
</div>
</div>
<div class="paragraph">
<p>To mark a feature as being input and / or output, click the mouse in the input and / or output column for the feature.
If you select &lt;all features&gt;, it unmarks any individual feature you selected, since &lt;all features&gt; subsumes all the features.</p>
</div>
<div class="paragraph">
<p>The Languages part of the capability is where you specify what languages are supported by the Analysis Engine.
Supported languages should be listed using either a two letter ISO-639 language code, or an ISO-639 language code followed by a hyphen and then a two-letter ISO-3166 country code.
Add a language by selecting Languages and pressing the Add button.
The dialog for adding languages is given below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image048.jpg" alt="Specifying a language">
</div>
</div>
<div class="paragraph">
<p>The Sofa part of the capability is optional; it allows defining Sofa names that this component uses, and whether they are input (meaning they are created outside of this component, and passed into it), or output (meaning that they are created by this component). Note that a Sofa can be either input or output, but can&#8217;t be both.</p>
</div>
<div class="paragraph">
<p>To add a Sofa name (which is synonymous with the view name), press the Add Sofa button, and this dialog appears:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image050.jpg" alt="Specifying a Sofa name">
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.capabilities.sofa_name_mapping"><a class="anchor" href="#ugr.tools.cde.capabilities.sofa_name_mapping"></a>1.9.1. Sofa (and view) name mappings</h4>
<div class="paragraph">
<p>Sofa names, once created, are used in Sofa Mappings.
These are optional mappings, done in an aggregate, that specify which Sofas are the same ones but with different names.
The Sofa Mappings section is minimized unless you are editing an Aggregate descriptor, and have one or more Sofa names defined for the aggregate.
In that case, the Sofa Mappings section will look like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image052.jpg" alt="Sofa mappings">
</div>
</div>
<div class="paragraph">
<p>Here the aggregate has defined two input Sofas, named &#8220;MyInputSofa&#8221;, and &#8220;AnotherSofa&#8221;.
Any named sofas in the aggregate&#8217;s capabilities will appear in the Sofa Mapping section, listed either under Inputs or Outputs.
Each name in the Mappings has 0 or more delegate (component) sofa names mapped to it.
A delegate may have multiple Sofas, as in this example, where the GovernmentOfficialRecognizer delegate has Sofas named &#8220;so1&#8221; and &#8220;so2&#8221;.</p>
</div>
<div class="paragraph">
<p>Delegate components may be written as Single-View components.
In this case, they have one implicit, default Sofa (&#8220;_InitialView&#8221;), and to map to it you use the form shown for the &#8220;NameRecognizer&#8221;– you map to the delegate&#8217;s key name in the aggregate, without specifying a Sofa name.
You can also specify the sofa name explicitly, e.g., NameRecognizer/_InitialView.</p>
</div>
<div class="paragraph">
<p>To add a new mapping, select the Aggregate Sofa name you wish to add the mapping for, and press the Add button.
This brings up a window like this, showing all available delegates and their Sofas; select one or more (use the normal multi-select methods) of these and press OK to add them.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image054.jpg" alt="Adding a Sofa mapping">
</div>
</div>
<div class="paragraph">
<p>To edit an existing mapping, select the mapping and press Edit.
This will show the existing mapping with all mapped items &#8220;selected&#8221;, and other available items unselected.
Change the items selected to match what you want, deselecting some, and perhaps selecting others, and press OK.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.indexes"><a class="anchor" href="#ugr.tools.cde.indexes"></a>1.10. Indexes Page</h3>
<div class="paragraph">
<p>The Indexes page is where the user declares what indexes and type priority lists are used by the analysis engine.
Indexes are used to determine which Feature Structures of a particular type are fetched, using an iterator in the UIMA API.
An unpopulated Indexes page is displayed below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image056.jpg" alt="Index page">
</div>
</div>
<div class="paragraph">
<p>Both indexes and type priority lists can have imports.
These imports work just like the type system imports, described above.
Both indexes and type priority lists can be exported to new component descriptors, using the Export&#8230;&#8203; button, just like the type system export operation described above.</p>
</div>
<div class="paragraph">
<p>The built-in Annotation Index is always present.
It is based on the built-in type <code>uima.tcas.Annotation </code>and has keys begin (Ascending), end (Descending) and TYPE_PRIORITY.
There are no built-in type priorities, so this last sort item does not play a role in the index unless type priorities are specified.</p>
</div>
<div class="paragraph">
<p>Type priority may be combined with other keys.
Type priorities are defined in the Priority Lists section, using one or more priority list.
A given priority list gives an ordering among a group of types.
Types that appear higher in the priority list are given higher priority, in other words, they sort first when TYPE_PRIORITY is specified as the index key.
Subtypes of these types are also ordered in a consistent manner, unless overridden by another specific type priority specification.
To get the ordering used among all the types, all of the type priority lists are merged.
This gives a partial ordering among the types.
Ties are resolved in an unspecified fashion.
The Component Descriptor Editor checks for incompatible orderings, and informs the user if they exist, so they can be corrected.</p>
</div>
<div class="paragraph">
<p>To create a new index, use the Add Index button in the top left section.
This brings up this dialog:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image058.jpg" alt="Adding a new index">
</div>
</div>
<div class="paragraph">
<p>Each index needs a globally unique index name.
Every index indexes one CAS type (including its subtypes). If you&#8217;re using Eclipse 3.2 or later, the entry field for this  has content assist (start typing the type name and press Control –Spacebar to get help, or press the Browse button to pick a type).</p>
</div>
<div class="paragraph">
<p>Indexes can be sorted, in which case you need to specify one or more keys to sort on.
Sort keys are selected from features whose range type is Integer, Float, or String.
Some elements will be disabled if they are not relevant.
For instance, if the index kind is &#8220;bag&#8221;, you cannot provide sort keys.
The order of sort keys can be adjusted using the up and down buttons, if necessary.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>There is usually no need to explicitly declare a Bag index in your descriptor.
As of UIMA v2.1, if you do not declare any index for a type (or any of its  supertypes), a Bag index will be automatically created.
This index is  accessed using the <code>getAllIndexedFS(&#8230;&#8203;)</code> method defined on the index repository.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A set index will contain no duplicates of the same type, where a duplicate is defined by the indexing comparator.
That is, if you commit two feature structures of the same type that are equal with respect to the indexing comparator, only the first one will be entered into the index.
Note that you can still have duplicates with respect to the indexing order, if they are of a different type.
A set index is not guaranteed to be sorted.
If no keys are specified for a set index, then all instances are considered by default to be equal, so only the first instance (for a particular type or subtype of the type being indexed) is indexed.
On the other hand, &#8220;bag&#8221; indicates that all annotation instances are indexed, including duplicates.</p>
</div>
<div class="paragraph">
<p>The Priority Lists section of the Indexes page is used to specify Priority Lists of types.
Priority Lists are unnamed ordered sets of type names.
Add a new priority list by clicking the Add Set button.
Add a type to an existing priority list by first selecting the set, and then clicking Add.
You can use the up and down buttons to adjust the order as necessary; these buttons move the selected item up or down.</p>
</div>
<div class="paragraph">
<p>Although it is possible to import self-contained index and type priority files, the creation of such files is not yet supported by the Component Descriptor Editor.
If you create these files using another editor, they can be imported using the corresponding Import panels, shown on the right.
Imports are specified in the same manner as they are for Type System imports.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.resources"><a class="anchor" href="#ugr.tools.cde.resources"></a>1.11. Resources Page</h3>
<div class="paragraph">
<p>The resources page describes resource dependencies (for primitive Analysis Engines) and external Resource specification and their bindings to the resource dependencies.</p>
</div>
<div class="paragraph">
<p>Only primitive Analysis Engines define resource dependencies.
Primitive and Aggregate Analysis Engines can define external resources and connect them (bind them) to resource dependencies.</p>
</div>
<div class="paragraph">
<p>When an Aggregate is providing an external resource to be bound to a dependency, the binding is specified using a possibly multi-level path, starting at the Aggregate, and specify which component (by its key name), and then if that component is, in turn, an Aggregate, which component (again by its key name), and so on until you reach a primitive.
The sequence of key names is made into the binding specification by joining the parts with a &#8220;/&#8221; character.
All of this is done for you by the Component Descriptor Editor.</p>
</div>
<div class="paragraph">
<p>Any external resource provided by an Aggregate will override any binding provided by any lower level component for the same resource dependency.</p>
</div>
<div class="paragraph">
<p>There are two views of the Resources page, depending on whether the Analysis Engine is an Aggregate or Primitive.
Here&#8217;s the view for a Primitive:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image060.jpg" alt="Resources page for a primitive">
</div>
</div>
<div class="paragraph">
<p>To declare a resource dependency, click the Add button in the right hand panel.
This puts up the dialog:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image062.jpg" alt="Specifying a resource dependency">
</div>
</div>
<div class="paragraph">
<p>The Key must be unique within the descriptor declaring it.
The Interface, if present, is the name of a Java interface the Analysis Engine uses to access the resource.</p>
</div>
<div class="paragraph">
<p>Declare actual External resource on the left side of the page.
Clicking <em>Add</em> brings up this dialog:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image064.jpg" alt="Specifying an External Resource">
</div>
<div class="title">Figure 20. Specifying an External Resource</div>
</div>
<div class="paragraph">
<p>The Name must be unique within this Analysis Engine.
The URL identifies a file resource.
If both the URL and URL suffix are used, the file resource is formed by combining the first URL part with the language-identifier, followed by the URL suffix; see <a href="ref.html#ugr.ref.xml.component_descriptor.aes.primitive.resource_manager_configuration">Resource Manager Configuration</a>.
URLs may be written as <em>relative</em> URLs; in this case they are resolved by looking them up relative to the classpath and/or datapath.
A relative URL has the path part starting without an intial &#8220;/&#8221;; for example: file:my/directory/file.
An absolute URL starts with <code>file:/</code> or <code>file:///</code> or <code>file://some.network.address/</code>. For more information about URLs, please read the javaDoc information for the Java class <code>URL</code>.</p>
</div>
<div class="paragraph">
<p>The <code>Implementation</code> is optional, and if given, must be a Java class that implements the interface specified in any Resource Dependencies this resource is bound to.</p>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.resources.binding"><a class="anchor" href="#ugr.tools.cde.resources.binding"></a>1.11.1. Binding</h4>
<div class="paragraph">
<p>Once you have an external resource definition, and a Resource Dependency, you can bind them together.
To do this, you select the two things (an external resource definition, and a Resource Dependency) that you want to bind together, and click Bind.</p>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.resources.aggregates"><a class="anchor" href="#ugr.tools.cde.resources.aggregates"></a>1.11.2. Resources with Aggregates</h4>
<div class="paragraph">
<p>When editing an Aggregate Descriptor, the Resource definitions panel will show all the resources at the primitive level, with paths down through the components (multiple levels, if needed) to get to the primitives.
The Aggregate can define external resources, and bind them to one or more uses by the primitives.</p>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.resources.imports_exports"><a class="anchor" href="#ugr.tools.cde.resources.imports_exports"></a>1.11.3. Imports and Exports</h4>
<div class="paragraph">
<p>Resource definitions and their bindings can be imported, just like other imports.
Existing Resource definitions and their bindings can be exported to a new importable part, and replaced with an import for that importable part, using the &#8220;Export&#8230;&#8203;&#8221; button, just like the similar function on the Type System page.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.source"><a class="anchor" href="#ugr.tools.cde.source"></a>1.12. Source Page</h3>
<div class="paragraph">
<p>The Source page is a text view of the xml content of the Analysis Engine or Type System being configured.
An example of this page is displayed below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image066.jpg" alt="Source page">
</div>
</div>
<div class="paragraph">
<p>Changes made in the GUI are immediately reflected in the xml source, and changes made in the xml source are immediately reflected back in the GUI.
The thought here is that the GUI view and the Source view are just two ways of looking at the same data.
When the data is in an unsaved state the file name is prefaced with an asterisk in the currently selected file tab in the editor pane inside Eclipse (as in the example above).</p>
</div>
<div class="paragraph">
<p>You may accidentally create invalid descriptors or XML by editing directly in the Source view.
If you do this, when you try and save or when you switch to a different view, the error will be detected and reported.
In the case of saving, the file will be saved, even if it is in an error state.</p>
</div>
<div class="sect3">
<h4 id="ugr.tools.cde.source.formatting"><a class="anchor" href="#ugr.tools.cde.source.formatting"></a>1.12.1. Source formatting – indentation</h4>
<div class="paragraph">
<p>The XML is indented using an indentation amount saved as a global UIMA preference.
To change this preference, use the Eclipse menu item: Windows →Preferences →UIMA Preferences.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.creating_self_contained_type_system"><a class="anchor" href="#ugr.tools.cde.creating_self_contained_type_system"></a>1.13. Creating a Self-Contained Type System</h3>
<div class="paragraph">
<p>It is also possible to use the Component Descriptor Editor to create or edit self-contained type systems.
To create a self-contained type system, select the menu item File →New →Other and then select Type System Descriptor File.
From the next page of the selection wizard specify a Parent Folder and File name and click Finish.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image068.jpg" alt="Working with a self-contained type system">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image070.jpg" alt="image070">
</div>
</div>
<div class="paragraph">
<p>This will take you to a version of the Component Descriptor Editor for editing a type system file which contains just three pages: an overview page, a type system page, and a source page.
The overview page is a bit more spartan than in the case of an AE.
It looks like the following:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cde/image072.jpg" alt="Editing a type system object">
</div>
</div>
<div class="paragraph">
<p>Just like an AE has an associated name, version, vendor and description, the same is true of a self-contained type system.
The Type System page is identical to that in an AE descriptor file, as is the Source page.
Note that a self-contained type system can import type systems just like the type system associated with an AE.</p>
</div>
<div class="paragraph">
<p>A type system component can also be created from an existing descriptor which contains a type system definition section, by clicking on the Export&#8230;&#8203; button on the Type System page.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cde.creating_other_descriptor_components"><a class="anchor" href="#ugr.tools.cde.creating_other_descriptor_components"></a>1.14. Creating Other Descriptor Components</h3>
<div class="paragraph">
<p>The new wizard can create several other kinds of components: Collection Processing Management (CPM) components, flow controllers, and importable parts (besides Type Systems, described above, Indexes, Type Priorities, and Resource Manager Configuration imports).</p>
</div>
<div class="paragraph">
<p>The CPM components supported by this editor include the Collection Reader, CAS Initializer, and CAS Consumer descriptors.
Each of these is basically treated just like a primitive AE descriptor, with small changes to accommodate the different semantics.
For instance, a CAS Consumer can&#8217;t declare in its capabilities section that it outputs types or features.</p>
</div>
<div class="paragraph">
<p>Flow controllers are components that control the flow of CASes within an aggregate, an are edited in a similar fashion as a primitive Analysis Engine.</p>
</div>
<div class="paragraph">
<p>The importable part support requires context information to enable the editor to work, because much of the power of this editor comes from extensive checking that requires additional information, other than what is available in just the importable part.
For instance, when you create or edit an Indexes import, the facility for adding new indexes needs the type information, which is not present in this part when it is edited alone.</p>
</div>
<div class="paragraph">
<p>To overcome this, when you edit these descriptors, you will be asked to specify a context descriptor, usually a descriptor which would import the part being edited, which would have the additional information needed.</p>
</div>
<div class="paragraph">
<p>Various methods are used to guess what the context descriptor should be - and if the guess is correct, you can just press the Enter key to confirm.
The last successful context file is remembered and will be suggested as the context file to use at the next edit session</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ugr.tools.cpe"><a class="anchor" href="#ugr.tools.cpe"></a>2. Collection Processing Engine Configurator User&#8217;s Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <em>Collection Processing Engine (CPE)</em> processes collections of artifacts (documents) through the combination of the following components: a Collection Reader, Analysis Engines, and CAS Consumers. <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</div>
<div class="paragraph">
<p>The <em>Collection Processing Engine Configurator(CPE
    Configurator)</em> is a graphical tool that allows you to assemble and run CPEs.</p>
</div>
<div class="paragraph">
<p>For an introduction to Collection Processing Engine concepts, including developing the components that make up a CPE, read <a href="tug.html#ugr.tools.cpe">Collection Processing Engine Developer&#8217;s Guide</a>.
This chapter is a user&#8217;s guide for using the CPE Configurator tool, and does not describe UIMA&#8217;s Collection Processing Architecture itself.</p>
</div>
<div class="sect2">
<h3 id="ugr.tools.cpe.limitations"><a class="anchor" href="#ugr.tools.cpe.limitations"></a>2.1. Limitations of the CPE Configurator</h3>
<div class="paragraph">
<p>The CPE Configurator only supports basic CPE configurations.</p>
</div>
<div class="paragraph">
<p>It only supports &#8220;Integrated&#8221; deployments (although it will connect to remotes if particular CAS Processors are specified with remote service descriptors). It doesn&#8217;t support configuration of the error handling.
It doesn&#8217;t support Sofa Mappings; it assumes all Single-View components are operating with the _InitialView Sofa.
Multi-View components will not have their names mapped.
It sets up a fixed-sized CAS Pool.</p>
</div>
<div class="paragraph">
<p>To set these additional options, you must edit the <a href="ref.html#ugr.ref.xml.cpe_descriptor">CPE Descriptor XML</a> file directly.
You may then open the CPE Descriptor in the CPE Configurator and run it.
The changes you applied to the CPE Descriptor <em>will</em> be respected, although you will not be able to see them or edit them from the GUI.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cpe.starting"><a class="anchor" href="#ugr.tools.cpe.starting"></a>2.2. Starting the CPE Configurator</h3>
<div class="paragraph">
<p>The CPE Configurator tool can be run using the <code>cpeGui</code> shell script, which is located in the <code>bin</code> directory of the UIMA SDK.
If you&#8217;ve installed the example <a href="oas.html#ugr.ovv.eclipse_setup.example_code">Eclipse project</a>, you can also run it using the <em>UIMA CPE GUI</em> run configuration provided in that project.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you are planning to build a CPE using components other than the examples included in the UIMA SDK, you will first need to update your CLASSPATH environment variable to include the classes needed by these components.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When you first start the CPE Configurator, you will see the main window shown here:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cpe/image002.jpg" alt="CPE Configurator main GUI window">
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cpe.selecting_component_descriptors"><a class="anchor" href="#ugr.tools.cpe.selecting_component_descriptors"></a>2.3. Selecting Component Descriptors</h3>
<div class="paragraph">
<p>The CPE Configurator&#8217;s main window is divided into three sections, one each for the Collection Reader, Analysis Engines, and CAS Consumers.<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup></p>
</div>
<div class="paragraph">
<p>In each section of the CPE Configurator, you can select the component(s) you want to use by browsing to (or typing the location of) their XML descriptors.
You must select a Collection Reader, and at least one Analysis Engine or CAS Consumer.</p>
</div>
<div class="paragraph">
<p>When you select a descriptor, the configuration parameters that are defined in that descriptor will then be displayed in the GUI; these can be modified to override the values present in the descriptor.</p>
</div>
<div class="paragraph">
<p>For example, the screen shot below shows the CPE Configurator after the following components have been chosen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>examples/descriptors/collectionReader/FileSystemCollectionReader.xml
examples/descriptors/analysis_engine/NamesAndPersonTitles_TAE.xml
examples/descriptors/cas_consumer/XmiWriterCasConsumer.xml</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cpe/image004.jpg" alt="CPE Configurator after components chosen">
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cpe.running"><a class="anchor" href="#ugr.tools.cpe.running"></a>2.4. Running a Collection Processing Engine</h3>
<div class="paragraph">
<p>After selecting each of the components and providing configuration settings, click the play (forward arrow) button at the bottom of the screen to begin processing.
A progress bar should be displayed in the lower left corner.
(Note that the progress bar will not begin to move until all components have completed their initialization, which may take several seconds.) Once processing has begun, the pause and stop buttons become enabled.</p>
</div>
<div class="paragraph">
<p>If an error occurs, you will be informed by an error dialog.
If processing completes successfully, you will be presented with a performance report.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cpe.file_menu"><a class="anchor" href="#ugr.tools.cpe.file_menu"></a>2.5. The File Menu</h3>
<div class="paragraph">
<p>The CPE Configurator&#8217;s File Menu has the following options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open CPE Descriptor</p>
</li>
<li>
<p>Save CPE Descriptor</p>
</li>
<li>
<p>Save Options (submenu)</p>
</li>
<li>
<p>Refresh Descriptors from File System</p>
</li>
<li>
<p>Clear All</p>
</li>
<li>
<p>Exit</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Open CPE Descriptor</strong> will allow you to select a CPE Descriptor file from disk, and will read in that CPE Descriptor and configure the GUI appropriately.</p>
</div>
<div class="paragraph">
<p><strong>Save CPE Descriptor</strong> will create a CPE Descriptor file that defines the CPE you have constructed.
This CPE Descriptor will identify the components that constitute the CPE, as well as the configuration settings you have specified for each of these components.
Later, you can use &#8220;Open CPE Descriptor&#8221; to restore the CPE Configurator to the state.
Also, CPE Descriptors can be used to easily <a href="tug.html#ugr.tug.application.running_a_cpe_from_a_descriptor">run a CPE from a Java program</a>.</p>
</div>
<div class="paragraph">
<p>CPE Descriptors also allow specifying operational parameters, such as error handling options that are not currently available for configuration through the CPE Configurator.
For more information on manually creating a CPE Descriptor, see <a href="ref.html#ugr.ref.xml.cpe_descriptor">Collection Processing Engine Descriptor Reference</a>.</p>
</div>
<div class="paragraph">
<p>The <strong>Save Options</strong> submenu has one item, <em>Use <code>&lt;import&gt;`</em>.
If this item is checked (the default), saved CPE descriptors will use the `&lt;import&gt;</code> syntax to refer to their component descriptors.
If unchecked, the older <code>&lt;include&gt;</code> syntax will be used for new components that you add to your CPE using the GUI.
(However, if you open a CPE descriptor that used <code>&lt;import&gt;</code>, these imports will not be replaced.)</p>
</div>
<div class="paragraph">
<p><strong>Refresh Descriptors from File System</strong> will reload all descriptors from disk.
This is useful if you have made a change to the descriptor outside of the CPE Configurator, and want to refresh the display.</p>
</div>
<div class="paragraph">
<p><strong>Clear All</strong> will reset the CPE Configurator to its initial state, with no components selected.</p>
</div>
<div class="paragraph">
<p><strong>Exit</strong> will close the CPE Configurator.
If you have unsaved changes, you will be prompted as to whether you would like to save them to a CPE Descriptor file.
If you do not save them, they will be lost.</p>
</div>
<div class="paragraph">
<p>When you restart the CPE Configurator, it will automatically reload the last CPE descriptor file that you were working with.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cpe.help_menu"><a class="anchor" href="#ugr.tools.cpe.help_menu"></a>2.6. The Help Menu</h3>
<div class="paragraph">
<p>The CPE Configurator&#8217;s Help menu provides <em>About</em> information and some very simple instructions on how to use the tool.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ugr.tools.doc_analyzer"><a class="anchor" href="#ugr.tools.doc_analyzer"></a>3. Document Analyzer User&#8217;s Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>Document Analyzer</em> is a tool provided by the UIMA SDK for testing annotators and AEs.
It reads text files from your disk, processes them using an AE, and allows you to view the results.
The Document Analyzer is designed to work with text files and cannot be used with Analysis Engines that process other types of data.</p>
</div>
<div class="paragraph">
<p>For an introduction to developing annotators and Analysis Engines, read xref:tug.adoc#ugr.tug.aae<span class="Annotator and Analysis Engine Developer's Guide">.</span>
This chapter is a user&#8217;s guide for using the Document Analyzer tool, and does not describe the process of developing annotators and Analysis Engines.</p>
</div>
<div class="sect2">
<h3 id="ugr.tools.doc_analyzer.starting"><a class="anchor" href="#ugr.tools.doc_analyzer.starting"></a>3.1. Starting the Document Analyzer</h3>
<div class="paragraph">
<p>To run the Document Analyzer, execute the <code>documentAnalyzer</code> script that is in the <code>bin</code> directory of your UIMA SDK installation, or, if you are using the example Eclipse project, execute the &#8220;UIMA Document Analyzer&#8221; run configuration supplied with that project.</p>
</div>
<div class="paragraph">
<p>Note that if you&#8217;re planning to run an Analysis Engine other than one of the examples included in the UIMA SDK, you&#8217;ll first need to update your CLASSPATH environment variable to include the classes needed by that Analysis Engine.</p>
</div>
<div class="paragraph">
<p>When you first run the Document Analyzer, you should see a screen that looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.doc_analyzer/DocAnalyzerScr1.png" alt="Document Analyzer GUI">
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.doc_analyzer.running_an_ae"><a class="anchor" href="#ugr.tools.doc_analyzer.running_an_ae"></a>3.2. Running an AE</h3>
<div class="paragraph">
<p>To run a AE, you must first configure the six fields on the main screen of the Document Analyzer.</p>
</div>
<div class="paragraph">
<p><strong>Input Directory:</strong>   Browse to or type the path of a directory containing text files that you want to analyze.
Some sample documents are provided in the UIMA SDK under the <code>examples/data</code> directory.</p>
</div>
<div class="paragraph">
<p><strong>Input File Format:</strong> Set this to "text".  It can, alternatively,  be set to one of the two serialized forms for CASes, if you have previously generated and saved these.
For the CAS formats only, you can also specify "Lenient deserialization"; if checked, then extra types and features in the CAS being deserialized and loaded (that are not defined by the Annotator-to-be-run&#8217;s type system) will not cause a deserialization error, but will instead be ignored.</p>
</div>
<div class="paragraph">
<p><strong>Character Encoding:</strong>   The character encoding of the input files.
The default, UTF-8, also works fine for ASCII text files.
If you have a different encoding, select it here.
For more information on character sets and their names, see the Javadocs for <code>java.nio.charset.Charset</code>.</p>
</div>
<div class="paragraph">
<p><strong>Output Directory:</strong> Browse to or type the path of a directory where you want output to be written.
(As we&#8217;ll see later, you won&#8217;t normally need to look directly at these files, but the Document Analyzer needs to know where to write them.) The files written to this directory will be an XML representation of the analyzed documents.
If this directory doesn&#8217;t exist, it will be created.
If the directory exists, any files in it will be deleted (but the tool will ask you to confirm this before doing so). If you leave this field blank, your AE will be run but no output will be generated.</p>
</div>
<div class="paragraph">
<p><strong>Location of AE XML Descriptor:</strong>   Browse to or type the path of the descriptor for the AE that you want to run.
There are some example descriptors provided in the UIMA SDK under the <code>examples/descriptors/analysis_engine</code> and <code>examples/descriptors/tutorial</code> directories.</p>
</div>
<div class="paragraph">
<p><strong>XML Tag containing Text:</strong>   This is an optional feature.
If you enter a value here, it specifies the name of an XML tag, expected to be found within the input documents, that contains the text to be analyzed.
For example, the value <code>TEXT</code> would cause the AE to only analyze the portion of the document enclosed within &lt;TEXT&gt;&#8230;&#8203;&lt;/TEXT&gt; tags.
Also, any XML tags occuring within that text will be removed prior to analysis.</p>
</div>
<div class="paragraph">
<p><strong>Language:</strong> Specify the language in which the documents are written.
Some Analysis Engines, but not all, require that this be set correctly in order to do their analysis.
You can select a value from the drop-down list or type your own.
The value entered here must be an ISO language identifier, the list of which can be found here: <a href="http://www.ics.uci.edu/pub/ietf/http/related/iso639.txt" class="bare">http://www.ics.uci.edu/pub/ietf/http/related/iso639.txt</a>.</p>
</div>
<div class="paragraph">
<p>Once you&#8217;ve filled in the appropriate values, press the &#8220;Run&#8221; button.</p>
</div>
<div class="paragraph">
<p>If an error occurs, a dialog will appear with the error message.
(A stack trace will also be printed to the console, which may help you if the error was generated by your own annotator code.)  Otherwise, an &#8220;Analysis Results&#8221; window will appear.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.doc_analyzer.viewing_results"><a class="anchor" href="#ugr.tools.doc_analyzer.viewing_results"></a>3.3. Viewing the Analysis Results</h3>
<div class="paragraph">
<p>After a successful analysis, the &#8220;Analysis
Results&#8221; window will appear.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.doc_analyzer/image004.jpg" alt="Analysis Results Window">
</div>
</div>
<div class="paragraph">
<p>The &#8220;Results Display Format&#8221; options at the bottom of this window show the different ways you can view your analysis – the Java Viewer, Java Viewer (JV) with User Colors, HTML, and XML.
The default, Java Viewer, is recommended.</p>
</div>
<div class="paragraph">
<p>Once you have selected your desired Results Display Format, you can double-click on one of the files in the list to view the analysis done on that file.</p>
</div>
<div class="paragraph">
<p>For the Java viewer, two different view modes are supported, each represented by one of two  radio buttons titled "Annnotations", and "Features":</p>
</div>
<div class="paragraph">
<p>In the "Annotations" view, each annotation which is declared to be an output of the pipeline  (in the top most Annotator Descriptor) is given a checkbox and a color, in the bottom panel.
You can control which annotations are shown by using the checkboxes in the bottom panel, the Select All button,  or the Deselet All button.
The results display looks like this (for the AE descriptor <code>examples/descriptors/tutorial/ex4/MeetingDetectorTAE.xml</code>):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.doc_analyzer/image006v2.png" alt="Analysis Results Window showing results from tutorial example 4 in Annotations view mode">
</div>
</div>
<div class="paragraph">
<p>You can click the mouse on one of the highlighted annotations to see a list of all its features in the frame on the right.</p>
</div>
<div class="paragraph">
<p>In the "Features" view, you can specify a combination of a single type, a single feature of that type, and some feature values for that feature.
The annotations whose feature values match will be highlighted.
Step by step, you first select a specific type of annotations by using  a radio button in the first tab of the legend.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.doc_analyzer/image007-1v2.png" alt="Analysis Results Window showing results from tutorial example 4 in Features view mode by selecting the DateAnnotation type.">
</div>
</div>
<div class="paragraph">
<p>Selecting this automatically transitions to the second tab, where you then select a specific feature  of the annotation type.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.doc_analyzer/image007-2v2.png" alt="Analysis Results Window showing results from tutorial example 4 in Features view mode by selecting the shortDateString feature.">
</div>
</div>
<div class="paragraph">
<p>Selecting this again automatically transitions you to the thrid tab, where you select some specific feature  values in the third tab of the legend.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.doc_analyzer/image007-3v2.png" alt="Analysis Results Window showing results from tutorial example 4 in Features view mode by selecting individual shortDateString feature values.">
</div>
</div>
<div class="paragraph">
<p>In each of the above two view modes, you can click the mouse on one of the highlighted  annotations to see a list of all its features in the frame on the right.</p>
</div>
<div class="paragraph">
<p>If you are viewing a CAS that contains multiple subjects of analysis, then a selector will appear at the bottom right of the Annotation Viewer window.
This will allow you to choose the Sofa that you wish to view.
Note that only text Sofas containing a non-null document are available for viewing.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.doc_analyzer.configuring"><a class="anchor" href="#ugr.tools.doc_analyzer.configuring"></a>3.4. Configuring the Annotation Viewer</h3>
<div class="paragraph">
<p>The &#8220;JV User Colors&#8221; and the HTML viewer allow you to specify exactly which colors are used to display each of your annotation types.
For the Java Viewer, you can also specify which types should be initially selected, and you can hide types entirely.</p>
</div>
<div class="paragraph">
<p>To configure the viewer, click the &#8220;Edit Style
Map&#8221; button on the &#8220;Analysis Results&#8221; dialog.
You should see a dialog that looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.doc_analyzer/image008.jpg" alt="Configuring the Analysis Results Viewer">
</div>
</div>
<div class="paragraph">
<p>To change the color assigned to a type, simply click on the colored cell in the &#8220;Background&#8221; column for the type you wish to edit.
This will display a dialog that allows you to choose the color.
For the HTML viewer only, you can also change the foreground color.</p>
</div>
<div class="paragraph">
<p>If you would like the type to be initially checked (selected) in the legend when the viewer is first launched, check the box in the &#8220;Checked&#8221; column.
If you would like the type to never be shown in the viewer, click the box in the &#8220;Hidden&#8221; column.
These settings only affect the Java Viewer, not the HTML view.</p>
</div>
<div class="paragraph">
<p>When you are done editing, click the &#8220;Save&#8221; button.
This will save your choices to a file in the same directory as your AE descriptor.
From now on, when you view analysis results produced by this AE using the &#8220;JV User Colors&#8221; or &#8220;HTML&#8221; options, the viewer will be configured as you have specified.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.doc_analyzer.interactive_mode"><a class="anchor" href="#ugr.tools.doc_analyzer.interactive_mode"></a>3.5. Interactive Mode</h3>
<div class="paragraph">
<p>Interactive Mode allows you to analyze text that you type or cut-and-paste into the tool, rather than requiring that the documents be stored as files.</p>
</div>
<div class="paragraph">
<p>In the main Document Analyzer window, you can invoke Interactive Mode by clicking the &#8220;Interactive&#8221; button instead of the &#8220;Run&#8221; button.
This will display a dialog that looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.doc_analyzer/image010.jpg" alt="Invoking Interactive Mode">
</div>
</div>
<div class="paragraph">
<p>You can type or cut-and-paste your text into this window, then choose your Results Display Format and click the &#8220;Analyze&#8221; button.
Your AE will be run on the text that you supplied and the results will be displayed as usual.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.doc_analyzer.view_mode"><a class="anchor" href="#ugr.tools.doc_analyzer.view_mode"></a>3.6. View Mode</h3>
<div class="paragraph">
<p>If you have previously run a AE and saved its analysis results, you can use the Document Analyzer&#8217;s View mode to view those results, without re-running your analysis.
To do this, on the main Document Analyzer window simply select the location of your analyzed documents in the &#8220;Output Directory&#8221; dialog and click the &#8220;View&#8221; button.
You can then view your analysis results as described in Section <a href="#ugr.tools.doc_analyzer.viewing_results">Section 3.3</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ugr.tools.annotation_viewer"><a class="anchor" href="#ugr.tools.annotation_viewer"></a>4. Annotation Viewer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>Annotation Viewer</em> is a tool for viewing analysis results that have been saved to your disk as <em>external XML representations of the CAS</em>.
These are saved in a particular format called XMI.
In the UIMA SDK, XML versions of CASes can be generated by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Running the <a href="#ugr.tools.doc_analyzer">Document Analyzer</a>, which saves an XML representations of the CAS to the specified output directory.</p>
</li>
<li>
<p>Running a Collection Processing Engine that includes the <em>XMI Writer</em> CAS Consumer (<code>examples/descriptors/cas_consumer/XmiWriterCasConsumer.xml)</code>.</p>
</li>
<li>
<p>Explicitly creating XML representations of the CAS from your own application using the org.apache.uima.cas.impl.XMISerializer class. The best way to learn how to do this is to look at the example code for the XMI Writer CAS Consumer, located in <code>examples/src/org/apache/uima/examples/xmi/XmiWriterCasConsumer.java</code>.
<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The Annotation Viewer only shows CAS views where the Sofa data type is a String.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can run the Annotation Viewer by executing the <code>annotationViewer</code> shell script located in the bin directory of the UIMA SDK or the "UIMA Annotation Viewer" Eclipse run configuration in the <code>uimaj-examples</code> project.
This will open the following window:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.annotation_viewer/image002.jpg" alt="Screenshot of the Annotation Viewer">
</div>
<div class="title">Figure 21. Screenshot of the Annotation Viewer</div>
</div>
<div class="paragraph">
<p>Select an input directory (which must contain XMI files), and the descriptor for the AE that produced the Analysis (which is needed to get the type system for the analysis). Then press the &#8220;View&#8221; button.</p>
</div>
<div class="paragraph">
<p>This will bring up a <a href="#ugr.tools.doc_analyzer.viewing_results">dialog</a> where you can select a viewing format and double-click on a document to view it.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ugr.tools.cvd"><a class="anchor" href="#ugr.tools.cvd"></a>5. CAS Visual Debugger</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="ugr.tools.cvd.introduction"><a class="anchor" href="#ugr.tools.cvd.introduction"></a>5.1. Introduction</h3>
<div class="paragraph">
<p>The CAS Visual Debugger is a tool to run text analysis engines in UIMA and view the results.
The tool is implemented as a stand-alone GUI  tool using Java&#8217;s Swing library.</p>
</div>
<div class="paragraph">
<p>This is a developer&#8217;s tool.
It is intended to support you in writing text analysis annotators for UIMA (Unstructured Information Management Architecture).  As a development tool, the emphasis is not so much on pretty pictures, but rather on navigability.
It is intended to show you all the information you need, and show it to you quickly (at least on a fast machine ;-).</p>
</div>
<div class="paragraph">
<p>The main purpose of this application is to let you browse all the data that was created when you ran an analysis engine over some text.
The display mimics the access methods you have in the CAS API in terms of indexes, types, feature structures and feature values.</p>
</div>
<div class="paragraph">
<p>As in the CAS, there is special support for annotations.
Clicking on an annotation will select the corresponding text, and conversely, you can display all annotations that cover a given position in the text.
This will be explained in more detail in the section on the main display area.</p>
</div>
<div class="paragraph">
<p>As usual, the graphics in this manual are for illustrative purposes and may not look 100% like the actual version of CVD you are running.
This depends on your operating system, your version of Java, and a variety of other factors.</p>
</div>
<div class="sect3">
<h4 id="ugr.cvd.introduction.running"><a class="anchor" href="#ugr.cvd.introduction.running"></a>5.1.1. Running CVD</h4>
<div class="paragraph">
<p>You will usually want to start CVD from the command line, or from Eclipse.
To start CVD from the command line, you minimally need the uima-core and uima-tools jars.
Below is a sample command line for sh and its offspring.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>java -cp ${UIMA_HOME}/lib/uima-core.jar:${UIMA_HOME}/lib/uima-tools.jar
    org.apache.uima.tools.cvd.CVD</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, there is no need to type this.
The <code>${UIMA_HOME}/bin</code> directory contains a <code>cvd.sh</code> and <code>cvd.bat</code> file for Unix/Linux/MacOS and Windows, respectively.</p>
</div>
<div class="paragraph">
<p>In Eclipse, you have a ready to use launch configuration available when you have installed the <a href="oas.html#ugr.ovv.eclipse_setup.example_code">UIMA sample project</a>).
Below is a screenshot of the the Eclipse Run  dialog with the CVD run configuration selected.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cvd/eclipse-cvd-launch.jpg" alt="Eclipse run dialog with CVD selected">
</div>
<div class="title">Figure 22. Eclipse run dialog with CVD selected</div>
</div>
</div>
<div class="sect3">
<h4 id="_cvd.introduction.commandline"><a class="anchor" href="#_cvd.introduction.commandline"></a>5.1.2. Command line parameters</h4>
<div class="paragraph">
<p>You can provide some command line parameters to influence the startup behavior of CVD.
For example, if you want to run a certain analysis engine on a certain text over and over again (for debugging, say), you can make CVD load the annotator and text at startup and execute the annotator.
Here&#8217;s a list of the supported command line options.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<caption class="title">Table 1. Command line options</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-text &lt;textFile&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Loads the text file <code>&lt;textFile&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-desc &lt;descriptorFile&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Loads the descriptor <code>&lt;descriptorFile&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-exec</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Runs the pre-loaded annotator; only allowed in conjunction with <code>-desc</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-datapath &lt;datapath&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the data path to <code>&lt;datapath&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-ini &lt;iniFile&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Makes CVD use alternative ini file <code>&lt;textFile&gt;</code> (default is ~/annotViewer.pref)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-lookandfeel &lt;lnfClass&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses alternative look-and-feel <code>&lt;lnfClass&gt;</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_cvd.errorhandling"><a class="anchor" href="#_cvd.errorhandling"></a>5.2. Error Handling</h3>
<div class="paragraph">
<p>On encountering an error, CVD will pop up an error dialog with a short, usually incomprehensible message.
Often, the error message will claim that there is more information available in the log file, and sometimes, this is actually true; so do go and check the log.
You can view the log file by selecting the appropriate item in the "Tools" menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cvd/ErrorExample.jpg" alt="Sample error dialog">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cvd.preferencesfile"><a class="anchor" href="#_cvd.preferencesfile"></a>5.3. Preferences File</h3>
<div class="paragraph">
<p>The program will attempt to read on startup and save on exit a file called annotViewer.pref in your home directory.
This file contains information about choices you made while running the program: directories (such as where your data files are) and window sizes.
These settings will be used the next time you use the program.
There is no user control over this process, but the file format is reasonably transparent, in case you feel like changing it.
Note, however, that the file will be overwritten every time you exit the program.</p>
</div>
<div class="paragraph">
<p>If you use CVD for several projects, it may be convenient to use a different ini files for each project.
You can specify the ini file CVD should use with the</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>-ini &lt;iniFile&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>parameter on the command line.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cvd.themenus"><a class="anchor" href="#_cvd.themenus"></a>5.4. The Menus</h3>
<div class="paragraph">
<p>We give a brief description of the various menus.
All menu items come with mnemonics (e.g., Alt-F X will exit the program). In addition, some menu items have their own keyboard accelerators that you can use anywhere in the program.
For example, Ctrl-S will save the text you&#8217;ve been editing.</p>
</div>
<div class="sect3">
<h4 id="_cvd.filemenu"><a class="anchor" href="#_cvd.filemenu"></a>5.4.1. The File Menu</h4>
<div class="paragraph">
<p>The File menu lets you load, create and save text, load and save color settings, and import and export the XCAS format.
Here&#8217;s a screenshot.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cvd/FileMenu.jpg" alt="The File menu">
</div>
</div>
<div class="paragraph">
<p>Below is a list of the menu items, together with an explanation.</p>
</div>
<div class="paragraph">
<div class="title">New Text&#8230;&#8203;</div>
<p>Clears the text area.
Text you type is written to an anonymous buffer.
You can use "Save Text As&#8230;&#8203;" to save the text you typed to a file.
Note: whenever you modify the text, be it through typing, loading a file or using the "New Text&#8230;&#8203;" menu item, previous analysis results will be lost.
Since the previous analysis is specific to the text, modifying the text invalidates the analysis.</p>
</div>
<div class="paragraph">
<div class="title">Open Text File</div>
<p>Loads a new text file into the viewer.
The next time you run an analysis engine, it will run the text you loaded last.
Depending on the annotator you&#8217;re using, the program may run slow with very large text files, so you may want to experiment.</p>
</div>
<div class="paragraph">
<div class="title">Save Text File</div>
<p>Saves the currently open text file.
If no file is currently loaded (either because you haven&#8217;t loaded a file, or you&#8217;ve used the "New Text&#8230;&#8203;" menu item), this menu item is disabled (and Ctrl-S will do nothing).</p>
</div>
<div class="paragraph">
<div class="title">Save Text As&#8230;&#8203;</div>
<p>Save the text to a file of your choosing.
This can be an existing file, which is then overwritten, or it can be a new file that you&#8217;re creating.</p>
</div>
<div class="paragraph">
<div class="title">Change Code Page</div>
<p>Allows you to change the code page that is used to load and save text files.
If you&#8217;re sure the text you&#8217;re loading is in ASCII or one of the 8-bit extensions such as ISO-8859-1 (ISO Latin1), there is probably nothing you need to do.
Just load the text and look at the display.
If you see no funny characters or square boxes, chances are your selected code page is compatible with your text file.
Note that the code page setting is also in effect when you save files.
You can observe the effects with a hex editor or by just looking at the file size.
For example, if you save the default text <code>This is where the text goes.</code> to a file on Windows using the default code page, the size of the file will be 28 bytes.
If you now change the code page to UTF-16 and save the file again, the file size will be 58 bytes: two bytes for each character, plus two bytes for the byte-order mark.
Now switch the code page back to the default Windows code page and reload the UTF-16 file to see the difference in the editor.
CVD will display all code pages that are available in the JVM you&#8217;re running it on.
The first code page in the list is the default code page of your system.
This is also CVD&#8217;s default if you don&#8217;t make a specific choice.
Your code page selection will be remembered in CVD&#8217;s ini file.</p>
</div>
<div class="paragraph">
<div class="title">Load Color Settings</div>
<p>Load previously saved color settings from a file (see Tools/Customize Annotation Display). It is highly recommended that you only load automatically generated files.
Strange things may happen if you try to load the wrong file format.
On startup, the program attempts to load the last color settings file that you loaded or saved during a previous session.
If you intend to use the same color settings as the last time you ran the program, there is therefore no need to manually load a color settings file.</p>
</div>
<div class="paragraph">
<div class="title">Save Color Settings</div>
<p>Save your customized color settings (see Tools/Customize Annotation Display). The file is a Java properties file, and as such, reasonably transparent.
What is not transparent is the encoding of the colors (integer encoding of 24-bit RGB values), so changing the file by hand is not really recommended.</p>
</div>
<div class="paragraph">
<div class="title">Read Type System File</div>
<p>Load a type system file.
This allows you to load an XCAS file without having to have access to the corresponding annotator.</p>
</div>
<div class="paragraph">
<div class="title">Write Type System File</div>
<p>Create a type system file from the currently loaded type definitions.
In addition, you can save the current CAS as a XCAS file (see below). This allows you to later load the type system and XCAS to view the CAS without having to rerun the annotator.</p>
</div>
<div class="paragraph">
<div class="title">Read XMI CAS File</div>
<p>Read an XMI CAS file.
Important: XMI CAS is a serialization format that serializes a CAS without type system and index information.
It is therefore impossible to read in a stand-alone XMI CAS file.
XMI CAS files can only be interpreted in the context of an existing type system.
Consequently, you need to first load the Analysis Engine that was used to create the XMI file, to be able to load that XMI file.</p>
</div>
<div class="paragraph">
<div class="title">Write XMI CAS File</div>
<p>Writes the current analysis out as an XMI CAS file.</p>
</div>
<div class="paragraph">
<div class="title">Read XCAS File</div>
<p>Read an XCAS file.
Important: XCAS is a serialization format that serializes a CAS without type system and index information.
It is therefore impossible to read in a stand-alone XCAS file.
XCAS files can only be interpreted in the context of an existing type system.
Consequently, you need to load the Analysis Engine that was used to create the XCAS file to be able to load it.
Loading a XCAS file without loading the Analysis Engine may produce strange errors.
You may get syntax errors on loading the XCAS file, or worse, everything may appear to go smoothly but in reality your CAS may be corrupted.</p>
</div>
<div class="paragraph">
<div class="title">Write XCAS File</div>
<p>Writes the current analysis out as an XCAS file.</p>
</div>
<div class="paragraph">
<div class="title">Exit</div>
<p>Exits the program.
Your preferences will be saved.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cvd.editmenu"><a class="anchor" href="#_cvd.editmenu"></a>5.4.2. The Edit Menu</h4>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cvd/EditMenu.jpg" alt="The Edit menu">
</div>
</div>
<div class="paragraph">
<p>The "Edit" menu provides a standard text editing menu with Cut, Copy and Paste, as well as unlimited Undo.</p>
</div>
<div class="paragraph">
<p>Note that standard keyboard accelerators Ctrl-X, Ctrl-C, Ctrl-V and Ctrl-Z can be used for Cut, Copy, Paste and Undo, respectively.
The text area supports other standard keyboard operations such as navigation HOME, Ctrl-HOME etc., as well as marking text with Shift- &lt;ArrowKey&gt;.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cvd.runmenu"><a class="anchor" href="#_cvd.runmenu"></a>5.4.3. The Run Menu</h4>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cvd/RunMenu.jpg" alt="The Run menu">
</div>
</div>
<div class="paragraph">
<p>In the Run menu, you can load and run text analysis engines.</p>
</div>
<div class="paragraph">
<div class="title">Load AE</div>
<p>Loads and initializes a text analysis engine.
Choosing this menu item will display a file open dialog where you should choose an XML descriptor of a Text Analysis Engine to process the current text.
Even if the analysis engine runs fast, this will take a while, since there is a lot of setup work to do when a new TAE is created.
So be patient.
When you develop a new annotator, you will often need to recompile your code.
Gladis will not reload your annotator code.
When you recompile your code, you need to terminate the GUI and restart it.
If you only make changes to the XML descriptor, you don&#8217;t need to restart the GUI.
Simply reload the XML file.</p>
</div>
<div class="paragraph">
<div class="title">Run AE</div>
<p>Before you have (successfully) loaded a TAE, this menu item will be disabled.
After you have loaded a TAE, it will be enabled, and the name changes according to the name of the TAE you have loaded.
For example, if you&#8217;ve loaded "The World&#8217;s Fastest Parser", you will have a menu item called "Run The World&#8217;s Fastest Parser". When you choose the item, the TAE is run on whatever text you have currently loaded.
After a TAE has run successfully, the index window in the upper left-hand corner of the screen should be updated and show the indexes that were created by this run.
We will have more to say about indexes and what to do with them later.</p>
</div>
<div class="paragraph">
<div class="title">Run AE on CAS</div>
<p>This allows you to run an analysis engine on the current CAS.
This is useful if you have loaded a CAS from an XCAS file, and would like to run further analysis on it.</p>
</div>
<div class="paragraph">
<div class="title">Run collectionProcessComplete</div>
<p>When you select this item, the analysis engine&#8217;s  collectionProcessComplete() method is called.</p>
</div>
<div class="paragraph">
<div class="title">Performance Report</div>
<p>After you&#8217;ve run your analysis, you can view a performance report.
It will show you where the time went: which component used how much of the processing time.</p>
</div>
<div class="paragraph">
<div class="title">Recently used</div>
<p>Collects a list of recently used analysis engines as a short-cut for loading.</p>
</div>
<div class="paragraph">
<div class="title">Language</div>
<p>Some annotators do language specific processing.
For example, if you run lexical analysis, the results may be quite different depending on what the analysis engine thinks the language of the document is.
With this menu item, you can manually set the document language.
Alternatively, you can use an automatic language identification annotator.
If the analysis engines you&#8217;re working with are language agnostic, there is no need to set the language.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cvd.toolsmenu"><a class="anchor" href="#_cvd.toolsmenu"></a>5.4.4. The tools menu</h4>
<div class="paragraph">
<p>The tools menu contains some assorted utilities, such as the log file viewer.
Here you can also set the log level for UIMA.
A more detailed description of some of the menu items follows below.</p>
</div>
<div class="sect4">
<h5 id="_cvd.viewtypesystem"><a class="anchor" href="#_cvd.viewtypesystem"></a>View Type System</h5>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cvd/TypeSystemViewer.jpg" alt="TypeSystemViewer">
</div>
</div>
<div class="paragraph">
<p>Brings up a new window that displays the type system.
This menu item is disabled until the first time you have run an analysis engine, since there is no type system to display until then.
An example is shown above.</p>
</div>
<div class="paragraph">
<p>You can view the inheritance tree on the left by expanding and collapsing nodes.
When you select a type, the features defined on that type are displayed in the table on the right.
The feature table has three columns.
The first gives the name of the feature, the second one the type of the feature (i.e., what values it takes), and the third column displays the highest type this feature is defined on.
In this example, the features "begin" and "end" are inherited from the built-in annotation type.</p>
</div>
<div class="paragraph">
<p>In the options menu, you can configure if you want to see inherited features or not (not yet implemented).</p>
</div>
</div>
<div class="sect4">
<h5 id="_cvd.showselectedannotations"><a class="anchor" href="#_cvd.showselectedannotations"></a>Show Selected Annotations</h5>
<div id="_annotationviewerfigure" class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cvd/AnnotationViewer.jpg" alt="AnnotationViewer">
</div>
<div class="title">Figure 23. Annotations produced by a statistical named entity tagger</div>
</div>
<div class="paragraph">
<p>To enable this menu, you must have run an analysis engine and selected the ``AnnotationIndex'' or one of its subnodes in the upper left hand corncer of the screen.
It will bring up a new text window with all selected annotations marked up in the text.</p>
</div>
<div class="paragraph">
<p><a href="#_annotationviewerfigure">Figure 23</a> shows the results of applying a statistical named entity tagger to a newspaper article.
Some annotation colors have been customized: countries are in reverse video, organizations have a turquois background, person names are green, and occupations have a maroon background.
The default background color is yellow.
This color is also used if there is more than one annotation spanning a certain text.
Clearly, this display is only useful if you don&#8217;t have any overlapping annotations, or at least not too many.</p>
</div>
<div class="paragraph">
<p>This menu item is also available as a context menu in the Index Tree area of the main window.
To use it, select the annotation index or one of its subnodes, right-click to bring up a popup menu, and select the only item in the popup menu.
The popup menu is actually a better way to invoke the annotation display, since it changes according to the selection in the Index Tree area, and will tell you if what you&#8217;ve selected can be displayed or not.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cvd.maindisplayarea"><a class="anchor" href="#_cvd.maindisplayarea"></a>5.5. The Main Display Area</h3>
<div class="paragraph">
<p>The main display area has three sub-areas.
In the upper left-hand corner is the <strong>index display</strong>, which shows the indexes that were defined in the  AE, as well as the types of the indexes and their subtypes.
In the lower left-hand corner, the content of indexes and sub-indexes is displayed  (<strong>FS display</strong>).  Clicking on any node in the index display will  show the corresponding feature structures in the FS display.
You can explore those structures by expanding the tree nodes.
When you click on a node that represents an annotation, clicking on it will cause the corresponding text span to marked in the <strong>text display</strong>.</p>
</div>
<div id="_main1figure" class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cvd/Main1.jpg" alt="Main1">
</div>
<div class="title">Figure 24. State of GUI after running an analysis engine</div>
</div>
<div class="paragraph">
<p><a href="#_main1figure">Figure 24</a> shows the state after running the UIMA_Analysis_Example.xml aggregate from the uimaj-examples project.
There are two indexes in the index display, and the annotation index has been selected.
Note that the number of structures in an index is displayed in square brackets after the index name.</p>
</div>
<div class="paragraph">
<p>Since displaying thousands of sister nodes is both confusing and slow, nodes are grouped in powers of 10.
As soon as there are no more than 100 sister nodes, they are displayed next to each other.</p>
</div>
<div class="paragraph">
<p>In our example, a name annotation has been selected, and the corresponding token text is highlighted in the text area.
We have also expanded the token node to display its structure (not much to see in this simple example).</p>
</div>
<div class="paragraph">
<p>In <a href="#_main1figure">Figure 24</a>, we selected an annotation in the FS display to find the corresponding text.
We can also do the reverse and find out what annotations cover a certain point in the text.
Let&#8217;s go back to the name recognizer for an example.</p>
</div>
<div id="_main2figure" class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cvd/Main2.jpg" alt="Main2">
</div>
<div class="title">Figure 25. Finding annotations for a specific location in the text</div>
</div>
<div class="paragraph">
<p>We would like to know if the Michael Baessler has been recognized as a name.
So we position the cursor in the corresponding text span somewhere, then right-click to bring up the context menu telling us which annotations exist at this point.
An example is shown in <a href="#_main2figure">Figure 25</a>.</p>
</div>
<div id="_main3figure" class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.cvd/Main3.jpg" alt="Main3">
</div>
<div class="title">Figure 26. Selecting an annotation from the context menu will highlight thatannotation in the FS display</div>
</div>
<div class="paragraph">
<p>At this point (<a href="#_main2figure">Figure 25</a>),  we only know that somewhere around the text cursor position (not visible in the picture), we discovered a name.
When we select the corresponding entry in the context menu, the name annotation is selected in the FS display, and its covered text is highlighted. <a href="#_main3figure">Figure 26</a> shows the display after  the name node has been selected in the popup menu.</p>
</div>
<div class="paragraph">
<p>We&#8217;re glad to see that, indeed, Michael Baessler is considered to be a name.
Note that in the FS display, the corresponding annotation node has been selected, and the tree has been expanded to make the node visible.</p>
</div>
<div class="paragraph">
<p>NB that the annotations displayed in the popup menu come from the annotations currently displayed in the FS display.
If you didn&#8217;t select the annotation index or one of its sub-nodes, no annotations can be displayed and the popup menu will be empty.</p>
</div>
<div class="sect3">
<h4 id="_cvd.statusbar"><a class="anchor" href="#_cvd.statusbar"></a>5.5.1. The Status Bar</h4>
<div class="paragraph">
<p>At the bottom of the screen, some useful information is displayed in the <strong>status bar</strong>.
The left-most area shows the most recent major event, with the time when the event terminated in square brackets.
The next area shows the file name of the currently loaded XML descriptor.
This area supports a tool tip that will show the full path to the file.
The right-most area shows the current cursor position, or the extent of the selection, if a portion of the text has been selected.
The numbers correspond to the character offsets that are used for annotations.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cvd.keyboardnavigation"><a class="anchor" href="#_cvd.keyboardnavigation"></a>5.5.2. Keyboard Navigation and Shortcuts</h4>
<div class="paragraph">
<p>The GUI can be completely navigated and operated through the keyboard.
All menus and menu items support keyboard mnemonics, and some common operations are accessible through keyboard accelerators.</p>
</div>
<div class="paragraph">
<p>You can move the focus between the three main areas using <code>Tab</code> (clockwise) and <code>Shift-Tab</code> (counterclockwise). When the focus is on the text area, the <code>Tab</code> key will insert the corresponding character into the text, so you will need to use <code>Ctrl-Tab</code> and <code>Ctrl-Shift-Tab</code> instead.
Alternatively, you can use the following key bindings to jump directly to one of the areas: <code>Ctrl-T</code> to focus the text area, <code>Ctrl-I</code> for the index repository frame and <code>Ctrl-F</code> for the feature structure area.</p>
</div>
<div class="paragraph">
<p>Some additional keyboard shortcuts are available only in the text area, such as <code>Ctrl-X</code> for Cut, <code>Ctrl-C</code> for Copy, <code>Ctrl-V</code> for Paste and <code>Ctrl-Z</code> for Undo.
The context menu in the text area can be evoke through the <code>Alt-Enter</code> shortcut.
Text can be selected using the arrow keys while holding the <code>Shift</code> key.</p>
</div>
<div class="paragraph">
<p>The following table shows the supported keyboard shortcuts.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<caption class="title">Table 2. Keyboard shortcuts</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Shortcut</th>
<th class="tableblock halign-left valign-top">Action</th>
<th class="tableblock halign-left valign-top">Scope</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ctrl-O</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open text file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ctrl-S</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save text file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ctrl-L</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load AE descriptor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ctrl-R</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run current AE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ctrl-I</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch focus to index repository</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ctrl-T</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch focus to text area</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ctrl-F</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch focus to FS area</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ctrl-X</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cut selection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ctrl-C</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Copy selection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ctrl-V</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paste selection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ctrl-Z</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Undo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Alt-Enter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show context menu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ugr.tools.eclipse_launcher"><a class="anchor" href="#ugr.tools.eclipse_launcher"></a>6. Eclipse Analysis Engine Launcher&#8217;s Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Analysis Engine Launcher is an Eclipse plug-in that provides debug and run support  for Analysis Engines directly within eclipse, like a Java program can be debugged.
It supports most of the descriptor formats except CPE, UIMA AS and some remote deployment descriptors.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.eclipse_launcher/image01.png" alt="image01">
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.eclipse_launcher.create_configuration"><a class="anchor" href="#ugr.tools.eclipse_launcher.create_configuration"></a>6.1. Creating an Analysis Engine launch configuration</h3>
<div class="paragraph">
<p>To debug or run an Analysis Engine a launch configuration must be created.
To do this select "Run &#8594; Run Configurations" or "Run &#8594; Run Configurations" from the menu bar.
A dialog will open where the launch configuration can be created.
Select UIMA Analysis Engine and create a new configuration via pressing the New button at the top, or via the New button in the context menu.
The newly created configuration will be automatically selected and the Main tab will be displayed.</p>
</div>
<div class="paragraph">
<p>The Main tab defines the Analysis Engine which will be launched.
First select the project which contains the descriptor, then choose a descriptor and select the input.
The input can either be a folder which contains input files or just a single input file, if the recursively check box is marked the input folder will be scanned recursively for input files.</p>
</div>
<div class="paragraph">
<p>The input format defines the format of the input files, if it is set to CASes the input resource must be either in the XMI or XCAS format and if it is set to plain text, plain text input files in the specified encoding are expected.
The input logic filters out all files which do not have an appropriate file ending, depending on the chosen format the file ending must be one of .xcas, .xmi or .txt, all other files are ignored when the input is a folder, if a single file is selected it will be processed independent of the file ending.</p>
</div>
<div class="paragraph">
<p>The output directory is optional, if set all processed input files will be written to the specified directory in the XMI CAS format, if the clear check box is marked all files inside the output folder will be deleted, usually this option is not needed because existing files will be overwritten without notice.</p>
</div>
<div class="paragraph">
<p>The other tabs in the launch configuration are documented in the eclipse documentation, see the "Java development user guide &#8594; Tasks &#8594; Running and Debugging".</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.eclipse_launcher.launching"><a class="anchor" href="#ugr.tools.eclipse_launcher.launching"></a>6.2. Launching an Analysis Engine</h3>
<div class="paragraph">
<p>To launch an Analysis Engine go to the previously created launch configuration and click on "Debug" or "Run" depending on the desired run mode.
The Analysis Engine will now be launched.
The output will be shown in the Console View.
To debug an Analysis Engine place breakpoints inside the implementation class.
If a breakpoint is hit the execution will pause  like in a Java program.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ugr.tools.ce"><a class="anchor" href="#ugr.tools.ce"></a>7. Cas Editor User&#8217;s Guide</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_sandbox.caseditor.introduction"><a class="anchor" href="#_sandbox.caseditor.introduction"></a>7.1. Introduction</h3>
<div class="paragraph">
<p>The CAS Editor is an Eclipse based annotation tool which supports manual and automatic annotation (via running UIMA annotators) of CASes stored in files.
Currently only text-based CAS are supported.
The CAS Editor can visualize and edit all feature structures.
Feature Structures which are annotations can additionally be viewed and edited directly on text.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.caseditor/CasEditor.png" alt="CasEditor">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sandbox.caseditor.launching"><a class="anchor" href="#_sandbox.caseditor.launching"></a>7.2. Launching the Cas Editor</h3>
<div class="paragraph">
<p>To open a CAS in the Cas Editor it needs a compatible type system and styling information which specify how to display the types.
The styling information is created automatically by the Cas Editor; but the type system file must be provided by the user.</p>
</div>
<div class="paragraph">
<p>A CAS in the xmi or xcas format can simply be opened by clicking on it, like a text file is opened with the Eclipse text editor.</p>
</div>
<div class="sect3">
<h4 id="_sandbox.caseditor.typesystemspec"><a class="anchor" href="#_sandbox.caseditor.typesystemspec"></a>7.2.1. Specifying a type system</h4>
<div class="paragraph">
<p>The Cas Editor expects a type system file at the root of the project named TypeSystem.xml.
If a type system cannot be found, this message is shown:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.caseditor/ProvideTypeSystem.png" alt="No type system available for the opened CAS.">
</div>
</div>
<div class="paragraph">
<p>If the type system file does not exist in this location you can point the Cas Editor to a specific type system file.
You can also change the default type system location in the properties page of the Eclipse project.
To do that right click the project, select Properties and go to the UIMA Type System tab, and specify the default location for the type system file.</p>
</div>
<div class="paragraph">
<p>After the Cas Editor is opened switch to the Cas Editor Perspective to see all the Cas Editor related views.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sandbox.caseditor.annotation_editor"><a class="anchor" href="#_sandbox.caseditor.annotation_editor"></a>7.3. Annotation editor</h3>
<div class="paragraph">
<p>The annotation editor shows the text with annotations and provides different views to show aspects of the CAS.</p>
</div>
<div class="sect3">
<h4 id="ugr.tools.cas_editor.annotation_editor.editor"><a class="anchor" href="#ugr.tools.cas_editor.annotation_editor.editor"></a>7.3.1. Editor</h4>
<div class="paragraph">
<p>After the editor is open it shows the default sofa of the CAS.
(Displaying another sofa is right now not possible.) The editor has an associated, changeable CAS Type.
This type is called the editor "mode". By default the editor only shows annotation of this type.
Actions and views are sensitive to this mode.
The next screen shows the display, where the mode is set to "Person":</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.caseditor/EditorOneType.png" alt="EditorOneType">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>				 To change the mode for the editor, use the "Mode" menu in the editor context menu.
To open the context menu right click somewhere on the text.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.caseditor/ModeMenu.png" alt="ModeMenu">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>The current mode is displayed in the status line at the bottom and in the Style View.</pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s possible to work with more than one annotation type at a time; the mode just selects the default annotation type which can be marked with the fewest keystrokes.
To show annotations of other types, use the "Show" menu in the context menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.caseditor/ShowAnnotationsMenu.png" alt="ShowAnnotationsMenu">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Alternatively, you may select the annotation types to be shown in the Style View.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.caseditor/StyleView2.png" alt="StyleView2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>The editor will show the additional selected types.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.caseditor/EditorAllTypes.png" alt="EditorAllTypes">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>				 The annotation renderer and rendering layer can be changed in the Properties dialog.
After the change all editors which share the same type system will be updated.</pre>
</div>
</div>
<div class="paragraph">
<p>The editor automatically selects annotations of the editor mode type that are near the cursor.
This selection is then synchronized or displayed in other views.</p>
</div>
<div class="paragraph">
<p>To create an annotation manually using the editor, mark a piece of text and then press the enter key.
This creates an annotation of the  type of the editor mode, having bounds corresponding to the selection.
You can also use the "Quick Annotate" action from the context menu.</p>
</div>
<div class="paragraph">
<p>It is also possible to choose the annotation type; press shift + enter (smart insert) or click on "Annotate" in the context menu for this.
A dialog will ask for the annotation type to create; either select the desired type or use the associated key shortcut.
In the screen shot below, pressing the "p" key will create a Person annotation for "Obama".</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.caseditor/ShiftEnter.png" alt="ShiftEnter">
</div>
</div>
<div class="paragraph">
<p>To delete an annotation, select it and press the delete key.
Only annotations of the editor mode can be deleted with this method.
To delete non-editor mode annotations use the Outline View.</p>
</div>
<div class="paragraph">
<p>For annotation projects you can change the font size in the editor.
The default font size is 13.
To change this open the Eclipse preference dialog,  go to "UIMA Annotation Editor".</p>
</div>
</div>
<div class="sect3">
<h4 id="_sandbox.caseditor.annotation_editor.styling"><a class="anchor" href="#_sandbox.caseditor.annotation_editor.styling"></a>7.3.2. Configure annotation styling</h4>
<div class="paragraph">
<p>The Cas Editor can visualize the annotations in multiple highlighting colors and with different annotation drawing styles.
The annotation styling is defined per type system.
When its changed, the appearance changes in all opened editors sharing a type system.</p>
</div>
<div class="paragraph">
<p>The styling is initialized with a unique color for every annotation type and every annotation is drawn with Squiggles annotation style.
You may adjust the annotation styles and coloring depending on the project needs.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.caseditor/StyleView.png" alt="StyleView">
</div>
</div>
<div class="paragraph">
<p>The Cas Editor offers a property page to edit the styling.
To open this property page click on the "Properties" button in the Styles view.</p>
</div>
<div class="paragraph">
<p>The property page can be seen below.
By clicking on one of the annotation types, the color, drawing style and drawing layer can be edited on the right side.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.caseditor/StyleProperties.png" alt="StyleProperties">
</div>
</div>
<div class="paragraph">
<p>The annotations can be visualized with one the following  annotation stlyes:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Style Table</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Style</th>
<th class="tableblock halign-left valign-top">Sample</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BACKGROUND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">image::images/tools/tools.caseditor/Style-Background.png[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The background is drawn in the annotation color.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT_COLOR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">image::images/tools/tools.caseditor/Style-TextColor.png[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The text is drawn in the annotation color.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TOKEN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">image::images/tools/tools.caseditor/Style-Token.png[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The token type assumes that token annotation are always separated by a whitespace.
Only if they are not separated by a whitespace a vertical line is drawn to display the two token annotations.
The image on the left actually contains three annotations, one for "Mr", "." and "Obama".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SQUIGGLES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">image::images/tools/tools.caseditor/Style-Squiggles.png[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Squiggles are drawen under the annotation in the annotation color.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BOX</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">image::images/tools/tools.caseditor/Style-Box.png[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A box in the annotation color is drawn around the annotation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UNDERLINE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">image::images/tools/tools.caseditor/Style-Underline.png[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A line in the annotation color is drawen below the annotation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BRACKET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">image::images/tools/tools.caseditor/Style-Bracket.png[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An opening bracket is drawn around the first character of the annotation and a closing bracket is drawn around the last character of the annotation.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The Cas Editor can draw the annotations in different layers.
If the spans of two annotations overlap the annotation which is in a higher layer is drawn over annotations in a lower  layer.
Depending on the drawing style it is possible to see both annotations.
The drawing order is defined by the layer number, layer 0 is drawn first, then layer 1 and so on.
If annotations in the same layer overlap its not defined which annotation type is drawn first.</p>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cas_editor.annotation_editor.cas_views"><a class="anchor" href="#ugr.tools.cas_editor.annotation_editor.cas_views"></a>7.3.3. CAS view support</h4>
<div class="paragraph">
<p>The Annotation Editor can only display text Sofa CAS views.
Displaying CAS views with Sofas of different types is not possible and will show an editor page to switch back to another CAS view.
The Edit and Feature Structure Browser views are still available and might be used to edit Feature Structures which belong to the CAS view.</p>
</div>
<div class="paragraph">
<p>To switch to another CAS view, right click in the editor to open the context menu and choose "CAS Views" and the view the editor should switch to.</p>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cas_editor.annotation_editor.outline"><a class="anchor" href="#ugr.tools.cas_editor.annotation_editor.outline"></a>7.3.4. Outline view</h4>
<div class="paragraph">
<p>The outline view gives an overview of the annoations which are shown in the editor.
The annotation are grouped by type.
There are actions to increase or decrease the bounds of the selected annotation.
There is also an action to merge selected annotations.
The outline has second view mode where only annotations of the current editor mode are shown.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.caseditor/Outline.png" alt="Outline">
</div>
</div>
<div class="paragraph">
<p>The style can be switched in the view menu, to a style where it only shows the annotations which  belong to the current editor mode.</p>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cas_editor.annotation_editor.properties_view"><a class="anchor" href="#ugr.tools.cas_editor.annotation_editor.properties_view"></a>7.3.5. Edit Views</h4>
<div class="paragraph">
<p>The Edit Views show details about the currently selected annotations or feature structures.
It is possible to change primitive values in this view.
Referenced feature structures can be created and deleted, including arrays.
To link a feature structure with other feature structures, it can be pinned to the edit view.
This means that it does not change if the selection changes.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.caseditor/EditView.png" alt="EditView">
</div>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.cas_editor.annotation_editor.fs_view"><a class="anchor" href="#ugr.tools.cas_editor.annotation_editor.fs_view"></a>7.3.6. FeatureStructure View</h4>
<div class="paragraph">
<p>The FeatureStructure View lists all feature structures of a specified type.
The type is selected in the type combobox.</p>
</div>
<div class="paragraph">
<p>It&#8217;s possible to create and delete feature structures of every type.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.caseditor/FSView.png" alt="FSView">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.cas_editor.custom_view"><a class="anchor" href="#ugr.tools.cas_editor.custom_view"></a>7.4. Implementing a custom Cas Editor View</h3>
<div class="paragraph">
<p>Custom Cas Editor views can be added,  to rapidly create, access and/or change Feature Structures in the CAS.
While the Annotation Editor and its views offer support for general viewing and editing, accessing and editing things in the CAS can be streamlined using a custom Cas Editor.
A custom Cas Editor view can be programmed to use a particular type system and optimized to quickly change or show something.</p>
</div>
<div class="paragraph">
<p>Annotation projects often need to track the annotation status of a CAS where a user needs to mark which parts have been annotated or corrected.
To do this with the Cas Editor a user would need to use the Feature Structure Browser view to select the Feature Structure and then edit it inside the Edit view.
A custom Cas Editor view could directly select and show the Feature Structure and offer  a tailored user interface to change the annotation status.
Some features such as the name of the annotator could even be automatically filled in.</p>
</div>
<div class="paragraph">
<p>The creation of Feature Structures which are linked to existing annotations or Feature Structures is usually difficult with the standard views.
A custom view which can make assumptions about the type system is usually needed to do this efficiently.</p>
</div>
<div class="sect3">
<h4 id="ugr.tools.cas_editor.custom_view.sample"><a class="anchor" href="#ugr.tools.cas_editor.custom_view.sample"></a>7.4.1. Annotation Status View Sample</h4>
<div class="paragraph">
<p>The Cas Editor provides the CasEditorView class as a base class for views which need to access the CAS which is opened in the current editor.
It shows a "view not available" message when the current editor does not show a CAS, no editor is opened at all or the current CAS view is incompatible with the view.</p>
</div>
<div class="paragraph">
<p>The following snippet shows how it is usually implemented:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class AnnotationStatusView extends CasEditorView {

  public AnnotationStatusView() {
    super("The Annotation Status View is currently not available.");
  }

  @Override
  protected IPageBookViewPage doCreatePage(ICasEditor editor) {
    ICasDocument document = editor.getDocument();

    if (document != null) {
      return new AnnotationStatusViewPage(editor);
    }

    return null;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>doCreatePage</code> method is called to create the actual view page.
If the document is null the editor failed to load a document and is showing an error message.
In the case the document is not null but the CAS view is incompatible the method should return null to indicate that it has nothing to show.
In this case the "not available" message is displayed.</p>
</div>
<div class="paragraph">
<p>The next step is to implement the AnnotationStatusViewPage.
That is the page which gets the CAS as input and need to provide the user with a ui to change the Annotation Status Feature Structure.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class AnnotationStatusViewPage extends Page {

  private ICasEditor editor;

  AnnotationStatusViewPage(ICasEditor editor) {
    this.editor = editor;
  }

  ...

  public void createControl(Composite parent) {

    // create ui elements here

    ...

    ICasDocument document = editor.getDocument();
    CAS cas = document.getCAS();

    // Retrieve Annotation Status FS from CAS
    // and initalize the ui elements with it

    FeatureStructre statusFS;

    ...

    // Add event listeners to the ui element
    // to save an update to the CAS
    // and to advertise a change

    ...

    // Send update event
    document.update(statusFS);

  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above code sketches out how a typical view page is implemented.
The CAS can be directly used to access any Feature Structures or annotations stored in it.
When something is modified added/removed/changed that must be advertised via the ICasDocument object.
It has multiple notification methods which send an event so that other views can be updated.
The view itself can also register a listener to receive CAS change events.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ugr.tools.jcasgen"><a class="anchor" href="#ugr.tools.jcasgen"></a>8. JCasGen User&#8217;s Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JCasGen reads a descriptor for an application (either an Analysis Engine Descriptor,  or a Type System Descriptor), creates the merged type system specification by merging all the type system information from all the components referred to in the descriptor, and then uses this merged type system to create Java source files for classes that enable JCas access to the CAS.
Java classes are not produced for the built-in types, since these classes are already provided by the UIMA SDK.
(An exception is the built-in type <code>uima.tcas.DocumentAnnotation</code>, see the warning below.)</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the components comprising the input to the type merging process  have different definitions for the same type name, JCasGen will show a warning, and in some environments may offer to abort the operation.
If you continue past this warning,  JCasGen will produce correct Java source files representing the merged types  (that is, the type definition containing all of the features defined on that type by all of the components).  It is recommended that you do not use this capability (of having  two different definitions for the same type name, with different feature sets) since it can make it difficult to <a href="ref.html#ugr.ref.jcas.merging_types_from_other_specs">combine/package</a> your annotator with others.</p>
</div>
<div class="paragraph">
<p>Also note that if your type system declares a custom version of the <code>uima.tcas.DocumentAnnotation</code>  built-in type, then JCasGen will generate a Java source file for it.
If you do this, you need to be aware of the issues discussed in the <a href="ref.html#ugr.ref.jcas.documentannotation_issues">JCas Reference</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>JCasGen can be run in many ways.
For Eclipse users using the Component Descriptor Editor, there&#8217;s a button on the Type System Description page to run it on that type system.
There&#8217;s also a jcasgen-maven-plugin to use  in maven build scripts.
There&#8217;s a menu-driven GUI tool for it.
And, there are command line scripts you can use to invoke it.</p>
</div>
<div class="paragraph">
<p>There are several versions of JCasGen.
The basic version reads an XML descriptor which contains a type system descriptor, and generates the corresponding Java Class Models for those types.
Variants exist for the Eclipse environment that allow merging the newly generated Java source code with <a href="ref.html#ugr.ref.jcas.augmenting_generated_code">previously augmented versions</a>.</p>
</div>
<div class="paragraph">
<p>Input to JCasGen needs to be mostly self-contained.
In particular, any types that are defined to depend on user-defined supertypes must have that supertype defined, if the supertype is <code>uima.tcas.Annotation</code> or a subtype of it.
Any features referencing ranges which are subtypes of uima.cas.String must have those subtypes included.
If this is not followed, a warning message is given stating that the resulting generation may be inaccurate.</p>
</div>
<div class="paragraph">
<p>JCasGen is typically invoked automatically when using the <a href="#ugr.tools.cde">Component Descriptor Editor</a>, but can also be run using a shell script.
These scripts can take 0, 1, or 2 arguments.
The first argument is the location of the file containing the input XML descriptor.
The second argument specifies where the generated Java source code should go.
If it isn&#8217;t given, JCasGen generates its output into a subfolder called JCas (or sometimes JCasNew&#8201;&#8212;&#8201;see below), of the first argument&#8217;s path.</p>
</div>
<div class="paragraph">
<p>The first argument, the input file, can be written as <code>jar:&lt;url&gt;!{entry}</code>, for example: <code>jar:http://www.foo.com/bar/baz.jar!/COM/foo/quux.class</code></p>
</div>
<div class="paragraph">
<p>If no arguments are given to JCasGen, then it launches a GUI to interact with the user and ask for the same input.
The GUI will remember the arguments you previously used.
Here&#8217;s what it looks like:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.jcasgen/image002.jpg" alt="JCasGen tool showing fields for input arguments">
</div>
<div class="title">Figure 27. JCasGen tool showing fields for input arguments</div>
</div>
<div class="paragraph">
<p>When running with automatic merging of the generated Java source with previously augmented versions, the output location is where the merge function obtains the source for the merge operation.</p>
</div>
<div class="paragraph">
<p>As is customary for Java, the generated class source files are placed in the appropriate subdirectory structure according to Java conventions that correspond to the package (name space) name.</p>
</div>
<div class="paragraph">
<p>The Java classes must be compiled and the resulting class files included in the class path of your application; you make these classes available for other annotator writers using your types, perhaps packaged as an xxx.jar file.
If the xxx.jar file is made to contain only the Java Class Models for the CAS types, it can be reused by any users of these types.</p>
</div>
<div class="sect2">
<h3 id="ugr.tools.jcasgen.running_without_eclipse"><a class="anchor" href="#ugr.tools.jcasgen.running_without_eclipse"></a>8.1. Running stand-alone without Eclipse</h3>
<div class="paragraph">
<p>There is no capability to automatically merge the generated Java source with previous versions, unless running with Eclipse.
If run without Eclipse, no automatic merging of the generated Java source is done with any previous versions.
In this case, the output is put in a folder called &#8220;JCasNew&#8221; unless overridden by specifying a second argument.</p>
</div>
<div class="paragraph">
<p>The distribution includes a shell script/bat file to run the stand-alone version, called jcasgen.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.jcasgen.running_standalone_with_eclipse"><a class="anchor" href="#ugr.tools.jcasgen.running_standalone_with_eclipse"></a>8.2. Running stand-alone with Eclipse</h3>
<div class="paragraph">
<p>If you have Eclipse and EMF (EMF = Eclipse Modeling Framework; both of these are available from <a href="http://www.eclipse.org" class="bare">http://www.eclipse.org</a>) installed (version 3 or later) JCasGen can merge the Java code it generates with previous versions, picking up changes you might have inserted by hand.
The output (and source of the merge input) is in a folder &#8220;JCas&#8221; under the same path as the input XML file, unless overridden by specifying a second argument.</p>
</div>
<div class="paragraph">
<p>You must install the UIMA plug-ins into Eclipse to enable this function.</p>
</div>
<div class="paragraph">
<p>The distribution includes a shell script/bat file to run the stand-alone with Eclipse version, called jcasgen_merge.
This works by starting Eclipse in &#8220;headless&#8221; mode (no GUI) and invoking JCasGen within Eclipse.
You will need to set the ECLIPSE_HOME environment variable or modify the jcasgen_merge shell script to specify where to find Eclipse.
The version of Eclipse needed is 3 or higher, with the EMF plug-in and the UIMA runtime plug-in installed.
A temporary workspace is used; the name/location of this is customizable in the shell script.</p>
</div>
<div class="paragraph">
<p>Log and error messages are written to the UIMA log.
This file is called uima.log, and is located in the default working directory, which if not overridden, is the startup directory of Eclipse.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.jcasgen.running_within_eclipse"><a class="anchor" href="#ugr.tools.jcasgen.running_within_eclipse"></a>8.3. Running within Eclipse</h3>
<div class="paragraph">
<p>There are two ways to run JCasGen within Eclipse.
The first way is to configure an Eclipse external tools launcher, and use it to run the stand-alone shell scripts, with the arguments filled in.
Here&#8217;s a picture of a typical launcher configuration screen (you get here by navigating from the top menu: Run –&gt; External Tools –&gt; External tools&#8230;&#8203;).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.jcasgen/image004.jpg" alt="Running JCasGen within Eclipse using the external tool launcher">
</div>
</div>
<div class="paragraph">
<p>The second way (which is the normal way it&#8217;s done) to run within Eclipse is to use the <a href="#ugr.tools.cde">Component Descriptor Editor (CDE)</a>. This tool can be configured to automatically launch JCasGen whenever the type system descriptor is modified.
In this release, this operation completely regenerates the files, even if just a small thing changed.
For very large type systems, you probably don&#8217;t want to enable this all the time.
The configurator tool has an option to enable/disable this function.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.jcasgen.maven_plugin"><a class="anchor" href="#ugr.tools.jcasgen.maven_plugin"></a>8.4. Using the jcasgen-maven-plugin</h3>
<div class="paragraph">
<p>For Maven builds, you can use the jcasgen-maven-plugin to take one or more top level descriptors (Type System or Analysis Engine descriptors), merge them together in the standard way UIMA merges type definitions, and produce the corresponding JCas source classes.
These, by default, are generated to the standard spot for Maven builds for generated files.</p>
</div>
<div class="paragraph">
<p>You can use ant-like include / exclude patterns to specify the top level descriptor files.
If you set <code>&lt;limitToProject&gt;</code> to <code>true</code>, then after a complete UIMA type system merge is done with all of the types, including those that are imported, only those types which are defined within this Maven project (that is, in some subdirectory of the project) will be generated.</p>
</div>
<div class="paragraph">
<p>To use the <code>jcasgen-maven-plugin</code>, specify it in the POM as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;plugin&gt;
  &lt;groupId&gt;org.apache.uima&lt;/groupId&gt;
  &lt;artifactId&gt;jcasgen-maven-plugin&lt;/artifactId&gt;
  &lt;version&gt;2.4.1&lt;/version&gt;  &lt;!-- change this to the latest version --&gt;
  &lt;executions&gt;
    &lt;execution&gt;
      &lt;goals&gt;&lt;goal&gt;generate&lt;/goal&gt;&lt;/goals&gt;  &lt;!-- this is the only goal --&gt;
      &lt;!-- runs in phase process-resources by default --&gt;
      &lt;configuration&gt;

        &lt;!-- REQUIRED --&gt;
        &lt;typeSystemIncludes&gt;
          &lt;!-- one or more ant-like file patterns
               identifying top level descriptors --&gt;
          &lt;typeSystemInclude&gt;src/main/resources/MyTs.xml
          &lt;/typeSystemInclude&gt;
        &lt;/typeSystemIncludes&gt;

        &lt;!-- OPTIONAL --&gt;
        &lt;!-- a sequence of ant-like file patterns
             to exclude from the above include list --&gt;
        &lt;typeSystemExcludes&gt;
        &lt;/typeSystemExcludes&gt;

        &lt;!-- OPTIONAL --&gt;
        &lt;!-- where the generated files go --&gt;
        &lt;!-- default value:
             ${project.build.directory}/generated-sources/jcasgen" --&gt;
        &lt;outputDirectory&gt;
        &lt;/outputDirectory&gt;

        &lt;!-- true or false, default = false --&gt;
        &lt;!-- if true, then although the complete merged type system
             will be created internally, only those types whose
             definition is contained within this maven project will be
             generated.  The others will be presumed to be
             available via other projects. --&gt;
        &lt;!-- OPTIONAL --&gt;
        &lt;limitToProject&gt;false&lt;/limitToProject&gt;
      &lt;/configuration&gt;
    &lt;/execution&gt;
  &lt;/executions&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ugr.tools.pear.packager"><a class="anchor" href="#ugr.tools.pear.packager"></a>9. PEAR Packager User&#8217;s Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <a href="ref.html#ugr.ref.pear">PEAR (Processing Engine ARchive)</a> file is a standard package for UIMA (Unstructured Information Management Architecture) components.
The PEAR package can be used for distribution and reuse by other components or applications.
It also allows applications and tools to manage UIMA components automatically for verification, deployment, invocation, testing, etc.</p>
</div>
<div class="paragraph">
<p>This chapter describes how to use the PEAR Eclipse plugin or the PEAR command line packager to create PEAR files for standard UIMA components.</p>
</div>
<div class="sect2">
<h3 id="ugr.tools.pear.packager.using_eclipse_plugin"><a class="anchor" href="#ugr.tools.pear.packager.using_eclipse_plugin"></a>9.1. Using the PEAR Eclipse Plugin</h3>
<div class="paragraph">
<p>The PEAR Eclipse plugin is automatically installed if you followed the directions in <a href="oas.html#ugr.ovv.eclipse_setup">Setup Guide</a>.
The use of the  plugin involves the following two steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add the UIMA nature to your project</p>
</li>
<li>
<p>Create a PEAR file using the PEAR generation wizard</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="ugr.tools.pear.packager.add_uima_nature"><a class="anchor" href="#ugr.tools.pear.packager.add_uima_nature"></a>9.1.1. Add UIMA Nature to your project</h4>
<div class="paragraph">
<p>First, create a project for your UIMA component:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a Java project, which would contain all the files and folders needed for your UIMA component.</p>
</li>
<li>
<p>Create a source folder called <code>src</code> in your project, and make it the only source folder, by clicking on <em>Properties</em> in your project&#8217;s context menu (right-click), then select <em>Java Build Path</em>, then add the <code>src</code> folder to the source folders list, and remove any other folder from the list.</p>
</li>
<li>
<p>Specify an output folder for your project called bin, by clicking on <em>Properties</em> in your project&#8217;s context menu (right-click), then select &#8220;Java Build Path&#8221;, and specify &#8220;<em>your_project_name</em>/bin&#8221; as the default output folder.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then, add the UIMA nature to your project by clicking on <em>Add UIMA Nature</em> in the context menu (right-click) of your project.
Click <em>Yes</em> on the <em>Adding UIMA custom Nature</em> dialog box.
Click <em>OK</em> on the confirmation dialog box.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.pear.packager/image002.jpg" alt="Screenshot of Adding the UIMA Nature to your project">
</div>
<div class="title">Figure 28. Screenshot of Adding the UIMA Nature to your project</div>
</div>
<div class="paragraph">
<p>Adding the UIMA nature to your project creates the PEAR structure in your project.
The PEAR structure is a structured tree of folders and files, including the following elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Required Elements:</strong></p>
<div class="ulist">
<ul>
<li>
<p>The * metadata* folder which contains the PEAR installation descriptor and properties files.</p>
</li>
<li>
<p>The installation descriptor (<code>metadata/install.xml`</code>)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Optional Elements:</strong></p>
<div class="ulist">
<ul>
<li>
<p>The <code>desc</code> folder to contain descriptor files of analysis engines, component analysis engines (all levels), and other component (Collection Readers, CAS Consumers, etc).</p>
</li>
<li>
<p>The <code>src</code> folder to contain the source code</p>
</li>
<li>
<p>The <code>bin</code> folder to contain executables, scripts, class files, dlls, shared libraries, etc.</p>
</li>
<li>
<p>The <code>lib</code> folder to contain jar files.</p>
</li>
<li>
<p>The <code>doc</code> folder containing documentation materials, preferably accessible through an index.html.</p>
</li>
<li>
<p>The <code>data</code> folder to contain data files (e.g. for testing).</p>
</li>
<li>
<p>The <code>conf</code> folder to contain configuration files.</p>
</li>
<li>
<p>The <code>resources</code> folder to contain other resources and dependencies.</p>
</li>
<li>
<p>Other user-defined folders or files are allowed, but <em>should be avoided</em>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about the PEAR structure, please refer to the <a href="ref.html#ugr.ref.pear">Processing Engine Archive</a> section.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.pear.packager/image004.jpg" alt="Pear structure">
</div>
<div class="title">Figure 29. The Pear Structure</div>
</div>
</div>
<div class="sect3">
<h4 id="ugr.tools.pear.packager.using_pear_generation_wizard"><a class="anchor" href="#ugr.tools.pear.packager.using_pear_generation_wizard"></a>9.1.2. Using the PEAR Generation Wizard</h4>
<div class="paragraph">
<p>Before using the PEAR Generation Wizard, add all the files needed to run your component including descriptors, jars, external libraries, resources, and component analysis engines (in the case of an aggregate analysis engine), etc. <em>Do not</em> add JARs for the UIMA framework, however.
Doing so will cause class loading problems at run time.</p>
</div>
<div class="paragraph">
<p>If you&#8217;re using a Java IDE like Eclipse, instead of using the output folder (usually <code>bin</code> as the source of your classes, it&#8217;s recommended that  you generate a Jar file containing these classes.</p>
</div>
<div class="paragraph">
<p>Then, click on &#8220;Generate PEAR file&#8221; from the context menu (right-click) of your project, to open the PEAR Generation wizard, and follow the instructions on the wizard to generate the PEAR file.</p>
</div>
<div class="sect4">
<h5 id="ugr.tools.pear.packager.wizard.component_information"><a class="anchor" href="#ugr.tools.pear.packager.wizard.component_information"></a>The Component Information page</h5>
<div class="paragraph">
<p>The first page of the PEAR generation wizard is the component information page.
Specify in this page a component ID for your PEAR and select the main Analysis Engine descriptor.
The descriptor must be specified using a pathname relative to the project&#8217;s root (e.g. &#8220;desc/MyAE.xml&#8221;). The component id is a string that uniquely identifies the component.
It should use the JAVA naming convention (e.g.
org.apache.uima.mycomponent).</p>
</div>
<div class="paragraph">
<p>Optionally, you can include specific Collection Iterator, CAS Initializer (deprecated as of Version 2.1), or CAS Consumers.
In this case, specify the corresponding descriptors in this page.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.pear.packager/image006.jpg" alt="Pear Wizard - component information page">
</div>
<div class="title">Figure 30. The Component Information Page</div>
</div>
</div>
<div class="sect4">
<h5 id="ugr.tools.pear.packager.wizard.install_environment"><a class="anchor" href="#ugr.tools.pear.packager.wizard.install_environment"></a>The Installation Environment page</h5>
<div class="paragraph">
<p>The installation environment page is used to specify the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Preferred operating system</p>
</li>
<li>
<p>Required JDK version, if applicable.</p>
</li>
<li>
<p>Required Environment variable settings. This is where you specify special CLASSPATH paths. You do not need to specify this for any Jar that is listed in the your eclipse project classpath settings; those are automatically put into the generated CLASSPATH. Nor should you include paths to the UIMA Framework itself, here. Doing so may cause class loading problems.</p>
<div class="paragraph">
<p>CLASSPATH segments are written here using a semicolon ";" as the separator; during PEAR installation, these will be adjusted to be the correct character for the target Operating System.</p>
</div>
<div class="paragraph">
<p>In order to specify the UIMA datapath for your component you have to create an environment variable with the property name <code>uima.datapath</code>.
The value of this property  must contain the UIMA datapath settings.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Path names should be specified using macros (see below), instead of hard-coded absolute paths that might work locally, but probably won&#8217;t if the PEAR is deployed in a different machine and environment.</p>
</div>
<div class="paragraph">
<p>Macros are variables such as $main_root, used to represent a string such as the full path of a certain directory.</p>
</div>
<div class="paragraph">
<p>These macros should be defined in the PEAR.properties file using the local values.
The tools and applications that use and deploy PEAR files should replace these macros (in the files included in the conf and desc folders) with the corresponding values in the local environment as part of the deployment process.</p>
</div>
<div class="paragraph">
<p>Currently, there are two types of macros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>$main_root, which represents the local absolute path of the main component root directory after deployment.</p>
</li>
<li>
<p><em>$component_id$root</em>, which represents the local absolute path to the root directory of the component which has <em>component_id</em> as component ID. This component could be, for instance, a delegate component.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.pear.packager/image008.jpg" alt="Pear Wizard - install environment page">
</div>
<div class="title">Figure 31. The Installation Environment Page</div>
</div>
</div>
<div class="sect4">
<h5 id="ugr.tools.pear.packager.wizard.file_content"><a class="anchor" href="#ugr.tools.pear.packager.wizard.file_content"></a>The PEAR file content page</h5>
<div class="paragraph">
<p>The last page of the wizard is the &#8220;PEAR file Export&#8221; page, which allows the user to select the files to include in the PEAR file.
The metadata folder and all its content is mandatory.
Make sure you include all the files needed to run your component including descriptors, jars, external libraries, resources, and component analysis engines (in the case of an aggregate analysis engine), etc.
It&#8217;s recommended to generate a jar file from your code as an alternative to building the project and making sure the output folder (bin) contains the required class files.</p>
</div>
<div class="paragraph">
<p>Eclipse compiles your class files into some output directory, often named "bin" when you take the usual defaults in Eclipse.
The recommended practice is to take all these files and put them into a Jar file, perhaps using the Eclipse Export  wizard.
You would place that Jar file into the PEAR <code>lib</code> directory.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you are relying on the class files generated in the output folder (usually called bin) to run your code, then make sure the project is built properly, and all the required class files are generated without errors, and then put the output folder (e.g.
$main_root/bin) in the classpath using the option to set environment variables, by setting the CLASSPATH variable to include this folder (see the &#8220;Installation Environment&#8221; page.
Beware that using a Java output folder named "bin" in this case is a poor practice,  because the PEAR installation tools will presume this folder contains binary executable files, and will adds this folder to  the PATH environment variable.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.pear.packager/image010.jpg" alt="Pear Wizard - File Export Page">
</div>
<div class="title">Figure 32. The PEAR File Export Page</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.pear.packager.using_command_line"><a class="anchor" href="#ugr.tools.pear.packager.using_command_line"></a>9.2. Using the PEAR command line packager</h3>
<div class="paragraph">
<p>The PEAR command line packager takes some PEAR package parameter settings on the command line to create an  UIMA PEAR file.</p>
</div>
<div class="paragraph">
<p>To run the PEAR command line packager you can use the provided runPearPackager (.bat for Windows, and .sh for Unix)  scripts.
The packager can be used in three different modes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mode 1: creates a complete PEAR package with the provided information (default mode)</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>runPearPackager -compID &lt;componentID&gt;
  -mainCompDesc &lt;mainComponentDesc&gt; [-classpath &lt;classpath&gt;]
  [-datapath &lt;datapath&gt;] -mainCompDir &lt;mainComponentDir&gt;
  -targetDir &lt;targetDir&gt; [-envVars &lt;propertiesFilePath&gt;]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The created PEAR file has the file name &lt;componentID&gt;.pear and is located in the &lt;targetDir&gt;.</p>
</div>
</li>
<li>
<p>Mode 2: creates a PEAR installation descriptor without packaging the PEAR file</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>runPearPackager -create -compID &lt;componentID&gt;
  -mainCompDesc &lt;mainComponentDesc&gt; [-classpath &lt;classpath&gt;]
  [-datapath &lt;datapath&gt;] -mainCompDir &lt;mainComponentDir&gt;
  [-envVars &lt;propertiesFilePath&gt;]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The PEAR installation descriptor is created in the &lt;mainComponentDir&gt;/metadata directory.</p>
</div>
</li>
<li>
<p>Mode 3: creates a PEAR package with an existing PEAR installation descriptor</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>runPearPackager -package -compID &lt;componentID&gt;
  -mainCompDir &lt;mainComponentDir&gt; -targetDir &lt;targetDir&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The created PEAR file has the file name &lt;componentID&gt;.pear and is located in the &lt;targetDir&gt;.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The modes 2 and 3 should be used when you want to manipulate the PEAR installation descriptor before packaging the PEAR file.</p>
</div>
<div class="paragraph">
<p>Some more details about the PearPackager parameters is provided in the list below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;componentID&gt;</code>: PEAR package component ID.</p>
</li>
<li>
<p><code>&lt;mainComponentDesc&gt;</code>: Main component descriptor of the PEAR package.</p>
</li>
<li>
<p><code>&lt;classpath&gt;</code>: PEAR classpath settings. Use $main_root macros to specify path entries. Use <code>;</code> to separate the entries.</p>
</li>
<li>
<p><code>&lt;datapath&gt;</code>: PEAR datapath settings. Use $main_root macros to specify path entries. Use <code>;</code> to separate the path entries.</p>
</li>
<li>
<p><code>&lt;mainComponentDir&gt;</code>: Main component directory that contains the PEAR package content.</p>
</li>
<li>
<p><code>&lt;targetDir&gt;</code>: Target directory where the created PEAR file is written to.</p>
</li>
<li>
<p><code>&lt;propertiesFilePath&gt;</code>: Path name to a properties file that contains environment variables that must be set to run the PEAR content.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ugr.tools.pear.packager.maven.plugin.usage"><a class="anchor" href="#ugr.tools.pear.packager.maven.plugin.usage"></a>10. The PEAR Packaging Maven Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>UIMA includes a Maven plugin that supports creating PEAR packages using Maven.
When configured for a project, it assumes that the project has the PEAR layout,  and will copy the standard directories that are part of a PEAR structure under the project root into the PEAR, excluding files that start with a period (".").   It also will put the Jar that is built for the project into the lib/ directory and include it first on the generated classpath.</p>
</div>
<div class="paragraph">
<p>The classpath that is generated for this includes the artifact&#8217;s Jar first, any user specified entries second (in the order they are specified), and finally, entries for all Jars  found in the lib/ directory (in some arbitrary order).</p>
</div>
<div class="sect2">
<h3 id="ugr.tools.pear.packager.maven.plugin.usage.configure"><a class="anchor" href="#ugr.tools.pear.packager.maven.plugin.usage.configure"></a>10.1. Specifying the PEAR Packaging Maven Plugin</h3>
<div class="paragraph">
<p>To use the PEAR Packaging Plugin within a Maven build,  the plugin must be added to the plugins section of the  Maven POM as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;build&gt;
 &lt;plugins&gt;
  ...
  &lt;plugin&gt;
    &lt;groupId&gt;org.apache.uima&lt;/groupId&gt;
    &lt;artifactId&gt;PearPackagingMavenPlugin&lt;/artifactId&gt;

    &lt;!-- if version is omitted, then --&gt;
    &lt;!-- version is inherited from parent's pluginManagement section --&gt;
    &lt;!-- otherwise, include a version element here --&gt;

    &lt;!-- says to load Maven extensions
         (such as packaging and type handlers) from this plugin --&gt;
    &lt;extensions&gt;true&lt;/extensions&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;phase&gt;package&lt;/phase&gt;
        &lt;!-- where you specify details of the thing being packaged --&gt;
        &lt;configuration&gt;

          &lt;classpath&gt;
            &lt;!-- PEAR file component classpath settings --&gt;
            $main_root/lib/sample.jar
          &lt;/classpath&gt;

          &lt;mainComponentDesc&gt;
            &lt;!-- PEAR file main component descriptor --&gt;
            desc/${artifactId}.xml
          &lt;/mainComponentDesc&gt;

          &lt;componentId&gt;
            &lt;!-- PEAR file component ID --&gt;
            ${artifactId}
          &lt;/componentId&gt;

          &lt;datapath&gt;
            &lt;!-- PEAR file UIMA datapath settings --&gt;
            $main_root/resources
          &lt;/datapath&gt;

        &lt;/configuration&gt;
        &lt;goals&gt;
          &lt;goal&gt;package&lt;/goal&gt;
        &lt;/goals&gt;
      &lt;/execution&gt;
    &lt;/executions&gt;
  &lt;/plugin&gt;
  ...
 &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To configure the plugin with the specific settings of a PEAR package, the <code>&lt;configuration&gt;</code> element section is used.
This sections contains all parameters  that are used by the PEAR Packaging Plugin to package the right content and set the specific PEAR package settings.
The details about each parameter and how it is used is shown below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;classpath&gt;</code> - This element specifies the classpath settings for the  PEAR component. The Jar artifact that is built during the current Maven build is  automatically added to the PEAR classpath settings and does not have to be added manually. In addition, all Jars in the lib directory and its subdirectories will be added to the generated classpath when the PEAR is installed.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Use $main_root variables to refer to libraries inside  the PEAR package.
For more details about PEAR packaging please refer to the  Apache UIMA PEAR documentation.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><code>&lt;mainComponentDesc&gt;</code> - This element specifies the relative path to the main component descriptor  that should be used to run the PEAR content. The path must be relative to the  project root. A good default to use is <code>desc/${artifactId}.xml</code>.</p>
</li>
<li>
<p><code>&lt;componentID&gt;</code> - This element specifies the PEAR package component ID. A good default to use is <code>${artifactId}</code>.</p>
</li>
<li>
<p><code>&lt;datapath&gt;</code> - This element specifies the PEAR package UIMA datapath settings. If no datapath settings are necessary, this element can be omitted.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Use $main_root variables to refer libraries inside  the PEAR package.
For more details about PEAR packaging please refer to the  Apache UIMA PEAR documentation.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For most Maven projects it is sufficient to specify the parameters described above.
In some cases, for  more complex projects, it may be necessary to specify some additional configuration  parameters.
These parameters are listed below with the default values that are used if they are not  added to the configuration section shown above.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;mainComponentDir&gt;</code> - This element specifies the main component directory where the UIMA nature is applied. By default this parameter points to the project root  directory - ${basedir}.</p>
</li>
<li>
<p><code>&lt;targetDir&gt;</code> - This element specifies the target directory where the result of the plugin  are written to. By default this parameters points to the default Maven output  directory - ${basedir}/target</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.pear.packager.maven.plugin.usage.dependencies"><a class="anchor" href="#ugr.tools.pear.packager.maven.plugin.usage.dependencies"></a>10.2. Automatically including dependencies</h3>
<div class="paragraph">
<p>A key concept in PEARs is that they allow specifying other Jars in the classpath.
You can optionally include these Jars within the PEAR package.</p>
</div>
<div class="paragraph">
<p>The PEAR Packaging Plugin does not take care of automatically adding these Jars (that the PEAR might depend on) to the PEAR archive.
However, this behavior can be manually added to your Maven POM.
The following two build plugins hook into the build cycle and insure that all runtime dependencies are included in the PEAR file.</p>
</div>
<div class="paragraph">
<p>The dependencies will be automatically included in the  PEAR file using this procedure; the PEAR install process also will automatically adds all files in the lib directory (and sub directories) to the  classpath.</p>
</div>
<div class="paragraph">
<p>The <code>maven-dependency-plugin</code> copies the runtime dependencies of the PEAR into the <code>lib</code> folder, which is where the PEAR packaging plugin expects them.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;build&gt;
 &lt;plugins&gt;
  ...
  &lt;plugin&gt;
   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
   &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
   &lt;executions&gt;
    &lt;!-- Copy the dependencies to the lib folder for the PEAR to copy --&gt;
    &lt;execution&gt;
     &lt;id&gt;copy-dependencies&lt;/id&gt;
     &lt;phase&gt;package&lt;/phase&gt;
     &lt;goals&gt;
      &lt;goal&gt;copy-dependencies&lt;/goal&gt;
     &lt;/goals&gt;
     &lt;configuration&gt;
      &lt;outputDirectory&gt;${basedir}/lib&lt;/outputDirectory&gt;
      &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;
      &lt;includeScope&gt;runtime&lt;/includeScope&gt;
     &lt;/configuration&gt;
    &lt;/execution&gt;
   &lt;/executions&gt;
  &lt;/plugin&gt;
  ...
 &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The second Maven plug-in hooks into the <code>clean</code> phase of the build life-cycle, and deletes the <code>lib</code> folder.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>With this approach, the <code>lib</code> folder is  automatically created, populated, and removed during the build process.
Therefore it should not go into the source control system and neither should you manually place any jars in there.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;build&gt;
 &lt;plugins&gt;
  ...
  &lt;plugin&gt;
   &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;
   &lt;executions&gt;
    &lt;!-- Clean the libraries after packaging --&gt;
    &lt;execution&gt;
     &lt;id&gt;CleanLib&lt;/id&gt;
     &lt;phase&gt;clean&lt;/phase&gt;
     &lt;configuration&gt;
      &lt;tasks&gt;
       &lt;delete quiet="true"
               failOnError="false"&gt;
        &lt;fileset dir="lib" includes="**/*.jar"/&gt;
       &lt;/delete&gt;
      &lt;/tasks&gt;
     &lt;/configuration&gt;
     &lt;goals&gt;
      &lt;goal&gt;run&lt;/goal&gt;
     &lt;/goals&gt;
    &lt;/execution&gt;
   &lt;/executions&gt;
  &lt;/plugin&gt;
  ...
 &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.pear.packager.maven.plugin.commandline"><a class="anchor" href="#ugr.tools.pear.packager.maven.plugin.commandline"></a>10.3. Running from the command line</h3>
<div class="paragraph">
<p>The PEAR packager can be run as a maven command.
To enable this, you have to add the following to your maven settings file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;settings&gt;
  ...
  &lt;pluginGroups&gt;
    &lt;pluginGroup&gt;org.apache.uima&lt;/pluginGroup&gt;
  &lt;/pluginGroups&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To invoke the PEAR packager using maven, use the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>mvn uima-pear:package &lt;parameters...&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The settings are the same ones used in the configuration above, specified as -D variables  where the variable name is <code>pear.parameterName`</code>.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>mvn uima-pear:package -Dpear.mainComponentDesc=desc/mydescriptor.xml
                      -Dpear.componentId=foo</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.pear.packager.maven.plugin.install.src"><a class="anchor" href="#ugr.tools.pear.packager.maven.plugin.install.src"></a>10.4. Building the PEAR Packaging Plugin From Source</h3>
<div class="paragraph">
<p>The plugin code is available in the Apache subversion repository at: <a href="http://svn.apache.org/repos/asf/uima/uimaj/trunk/PearPackagingMavenPlugin" class="bare">http://svn.apache.org/repos/asf/uima/uimaj/trunk/PearPackagingMavenPlugin</a>.
Use the following command line to build it (you will need the Maven build tool, available from Apache):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>#PearPackagingMavenPlugin&gt; mvn install</code></pre>
</div>
</div>
<div class="paragraph">
<p>This maven command will build the tool and install it in your local maven repository,  making it available for use by other maven POMs.
The plugin version number is displayed at the end of the Maven build as shown in the example below.
For this example, the plugin  version number is: <code>2.3.0-incubating</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[INFO] Installing
/code/apache/PearPackagingMavenPlugin/target/
PearPackagingMavenPlugin-2.3.0-incubating.jar
to
/maven-repository/repository/org/apache/uima/PearPackagingMavenPlugin/
2.3.0-incubating/
PearPackagingMavenPlugin-2.3.0-incubating.jar
[INFO] [plugin:updateRegistry]
[INFO] --------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] --------------------------------------------------------------
[INFO] Total time: 6 seconds
[INFO] Finished at: Tue Nov 13 15:07:11 CET 2007
[INFO] Final Memory: 10M/24M
[INFO] --------------------------------------------------------------</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ugr.tools.pear.installer"><a class="anchor" href="#ugr.tools.pear.installer"></a>11. PEAR Installer User&#8217;s Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>PEAR (Processing Engine ARchive) is a new standard for packaging UIMA compliant components.
This standard defines several service elements that should be included in the archive package to enable automated installation of the encapsulated UIMA component.
The major PEAR service element is an XML Installation Descriptor that specifies installation platform, component attributes, custom installation procedures and environment variables.</p>
</div>
<div class="paragraph">
<p>The installation of a UIMA compliant component includes 2 steps: (1) installation of the component code and resources in a local file system, and (2) verification of the serviceability of the installed component.
Installation of the component code and resources involves extracting component files from the archive (PEAR) package in a designated directory and localizing file references in component descriptors and other configuration files.
Verification of the component serviceability is accomplished with the help of standard UIMA mechanisms for instantiating analysis engines.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./tools/images/tools/tools.pear.installer/image002.jpg" alt="PEAR Installer GUI">
</div>
</div>
<div class="paragraph">
<p>There are two versions of the PEAR Installer.
One is an interactive, GUI-based application which puts up a panel asking for the parameters of the installation; the  other is a command line interface version where you pass the parameters needed on the command line itself.
To launch the GUI version of the PEAR Installer, use the script in the UIMA bin directory: <code>runPearInstaller.bat</code> or <code>runPearInstaller.sh.</code> The command line is launched using <code>runPearInstallerCli.cmd</code> or <code>runPearInstallerCli.sh.</code></p>
</div>
<div class="paragraph">
<p>The PEAR Installer installs UIMA compliant components (analysis engines) from PEAR packages in a local file system.
To install a desired UIMA component the user needs to select the appropriate PEAR file in a local file system and specify the installation directory (optional). If no installation directory is specified, the PEAR file is installed to the current working directory.
By default the PEAR packages are not installed directly to the specified installation directory.
For each PEAR a subdirectory with the name of the PEAR&#8217;s ID is created where the PEAR package is  installed to.
If the PEAR installation directory already exists, the old content is automatically  deleted before the new content is installed.
During the component installation the user can read messages printed by the installation program in the message area of the application window.
If the installation fails, appropriate error message is printed to help identifying and fixing the problem.</p>
</div>
<div class="paragraph">
<p>After the desired UIMA component is successfully installed, the PEAR Installer allows testing this component in the CAS Visual Debugger (CVD) application, which is provided with the UIMA package.
The <a href="#ugr.tools.cvd">CVD application</a> will load your UIMA component using its XML descriptor file.
If the component is loaded successfully, you&#8217;ll be able to run it either with sample documents provided in the <code>&lt;UIMA_HOME&gt;/examples/data</code> directory, or with any other sample documents.
Running your component in the CVD application helps to make sure the component will run in other UIMA applications.
If the CVD application fails to load or run your component, or throws an exception, you can find more information about the problem in the uima.log file in the current working directory.
The log file can be viewed with the CVD.</p>
</div>
<div class="paragraph">
<p>PEAR Installer creates a file named <code>setenv.txt</code> in the <code>&lt;component_root&gt;/metadata</code> directory.
This file contains environment variables required to run your component in any UIMA application.
It also creates a <a href="ref.html#ugr.ref.pear.specifier">PEAR descriptor</a> file named <code>&lt;componentID&gt;_pear.xml</code> in the <code>&lt;component_root&gt;</code> directory that can be used to directly run the installed pear file in your application.</p>
</div>
<div class="paragraph">
<p>The <code>metadata/setenv.txt</code> is not read by the UIMA framework anywhere.
It&#8217;s there for use by non-UIMA application code if that code wants to set environment variables.
The <code>metadata/setenv.txt</code> is just a "convenience" file duplicating what is in the XML.</p>
</div>
<div class="paragraph">
<p>The <code>setenv.txt</code> file has two special variables: the <code>CLASSPATH</code> and the <code>PATH</code>.
The <code>CLASSPATH</code> is computed from any supplied <code>CLASSPATH</code> environment variable,  plus the jars that are configured in the PEAR structure, including subcomponents.
The <code>PATH</code> is similarly computed, using any supplied <code>PATH</code> environment variable plus  it includes the <code>bin</code> subdirectory of the PEAR structure, if it exists.</p>
</div>
<div class="paragraph">
<p>The command line version of the PEAR installer has one required argument: the path to the PEAR file being installed.
A second argument can specify the installation directory (default is the current working directory). An optional argument, one of <code>-c</code> or <code>-check</code> or <code>-verify</code>, causes verification to be done after installation, as described above.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ugr.tools.pear.merger"><a class="anchor" href="#ugr.tools.pear.merger"></a>12. PEAR Merger User&#8217;s Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The PEAR Merger utility takes two or more PEAR files and merges their contents, creating a new PEAR which has, in turn, a new Aggregate analysis engine whose delegates are the components from the original files being merged.
It does this by (1) copying the contents of the input components into the output component, placing each component into a separate subdirectory, (2) generating a UIMA descriptor for the output Aggregate  analysis engine and (3) creating an output PEAR file that encapsulates the output Aggregate.</p>
</div>
<div class="paragraph">
<p>The merge logic is quite simple, and is intended to work for simple cases.
More complex merging needs to be done by hand.
Please see the Restrictions and Limitations section, below.</p>
</div>
<div class="paragraph">
<p>To run the PearMerger command line utility you can use the runPearMerger scripts (.bat for Windows, and .sh for Unix). The usage of the tooling is shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>runPearMerger 1st_input_pear_file ... nth_input_pear_file
  -n output_analysis_engine_name [-f output_pear_file ]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first group of parameters are the input PEAR files.
No duplicates are allowed here.
The <code>-n</code> parameter is the name of the generated Aggregate Analysis Engine.
The optional <code>-f</code> parameter specifies the name of the output file.
If it is omitted, the output is written to <code>output_analysis_engine_name.pear</code> in the current working directory.</p>
</div>
<div class="paragraph">
<p>During the running of this tool, work files are written to a temporary directory created in the user&#8217;s home directory.</p>
</div>
<div class="sect2">
<h3 id="ugr.tools.pear.merger.merge_details"><a class="anchor" href="#ugr.tools.pear.merger.merge_details"></a>12.1. Details of the merging process</h3>
<div class="paragraph">
<p>The PEARs are merged using the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A temporary working directory, is created for the output aggregate component.</p>
</li>
<li>
<p>Each input PEAR file is extracted into a separate 'input_component_name' folder under the working directory.</p>
</li>
<li>
<p>The extracted files are processed to adjust the '$main_root' macros. This operation differs from the PEAR installation operation, because it does not replace the macros with absolute paths.</p>
</li>
<li>
<p>The output PEAR directory structure, 'metadata' and 'desc' folders under the working directory, are created.</p>
</li>
<li>
<p>The UIMA AE descriptor for the output aggregate component is built in the 'desc' folder. This aggregate descriptor refers to the input delegate components, specifying 'fixed flow' based on the original order of the input components in the command line. The aggregate descriptor&#8217;s 'capabilities' and 'operational properties' sections are built based on the input components' specifications.</p>
</li>
<li>
<p>A new PEAR installation descriptor is created in the 'metadata' folder, referencing the new output aggregate descriptor built in the previous step.</p>
</li>
<li>
<p>The content of the temporary output working directory is zipped to created the output PEAR, and then the temporary working directory is deleted.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The PEAR merger utility logs all the operations both to standard console output and to a log file, pm.log, which is created in the current working directory.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.pear.merger.testing_modifying_resulting_pear"><a class="anchor" href="#ugr.tools.pear.merger.testing_modifying_resulting_pear"></a>12.2. Testing and Modifying the resulting PEAR</h3>
<div class="paragraph">
<p>The output PEAR file can be installed and tested using the PEAR Installer.
The output aggregate component can also be tested by using the CVD or DocAnalyzer tools.</p>
</div>
<div class="paragraph">
<p>The PEAR Installer creates Eclipse project files (.classpath and .project) in the root directory of the installer PEAR, so the installed component can be imported into the Eclipse IDE as an external project.
Once the component is in the Eclipse IDE, developers may use the Component Descriptor Editor and the PEAR Packager to modify the output aggregate descriptor and re-package the component.</p>
</div>
</div>
<div class="sect2">
<h3 id="ugr.tools.pear.merger.restrictions_limitations"><a class="anchor" href="#ugr.tools.pear.merger.restrictions_limitations"></a>12.3. Restrictions and Limitations</h3>
<div class="paragraph">
<p>The PEAR Merger utility only does basic merging operations, and is limited as follows.
You can overcome these by editing the resulting PEAR file or the resulting Aggregate Descriptor.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The Merge operation specifies Fixed Flow sequencing for the Aggregate.</p>
</li>
<li>
<p>The merged aggregate does not define any parameters, so the delegate parameters cannot be overridden.</p>
</li>
<li>
<p>No External Resource definitions are generated for the aggregate.</p>
</li>
<li>
<p>No Sofa Mappings are generated for the aggregate.</p>
</li>
<li>
<p>Name collisions are not checked for. Possible name collisions could occur in the fully-qualified class names of the implementing Java classes, the names of JAR files, the names of descriptor files, and the names of resource bindings or resource file paths.</p>
</li>
<li>
<p>The input and output capabilities are generated based on merging the capabilities from the components (removing duplicates). Capability sets are ignored - only the first of the set is used in this process, and only one set is created for the generated Aggregate. There is no support for merging Sofa specifications.</p>
</li>
<li>
<p>No Indexes or Type Priorities are created for the generated Aggregate. No checking is done to see if the Indexes or Type Priorities of the components conflict or are inconsistent.</p>
</li>
<li>
<p>You can only merge Analysis Engines and CAS Consumers.</p>
</li>
<li>
<p>Although PEAR file installation descriptors that are being merged can have specific XML elements describing Collection Reader and CAS Consumer descriptors, these elements are ignored during the merge, in the sense that the installation descriptor that is created by the merge does not set these elements. The merge process does not use these elements; the output PEAR&#8217;s new aggregate only references the merged components' main PEAR descriptor element, as identified by the PEAR element:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;SUBMITTED_COMPONENT&gt;
  &lt;DESC&gt;the_component.xml&lt;/DESC&gt;...
&lt;/SUBMITTED_COMPONENT&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Earlier versions of UIMA supported another component, the CAS     Initializer, but this component is now deprecated in UIMA Version 2.
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. There is also a fourth pane, for the CAS Initializer, but it is hidden by default. To enable it click the         View  CAS Initializer Panel menu item.
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. An older form of a different XML format for the CAS is also provided mainly for backwards compatibility. This form is called XCAS, and you can see examples of its use in <code>examples/src/org/apache/uima/examples/cpe/XCasWriterCasConsumer.java</code>.
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 3.5.0<br>
Last updated 2023-11-01 17:37:27 +0100
</div>
</div>
</body>
</html>