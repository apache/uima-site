<?xml version="1.0" encoding="UTF-8"?>

<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<document>

<properties>
<title>Source Code</title>
<author email="dev@uima.apache.org">
 Apache UIMA Documentation Team</author>
</properties>

<body>

<section name="Apache UIMA&#0153; Source Code">
<p>
  <ul>
		<li><a href="#source.code.repository">Source Code Repository</a>
			
		<br></br>
		</li>
		<li><a href="#git-projs">Using Git</a></li>
		<li><a href="#checkout.code">Checking Out Code Using Subversion</a>
			<ul>
				<li><a href="#anonymous.checkout">Anonymous check out from Subversion</a></li>
				<li><a href="#access.firewall">Access from behind a firewall</a></li>
				<li><a href="#access.proxy">Access through a proxy</a></li>
				<li><a href="#committer.access">Committer access</a></li>
				<li><a href="#checkout.using.eclipse">Checking Out Code using Eclipse</a></li>
			</ul>
		<br></br>	
		</li>
		<li><a href="#submit.code.changes">Submitting Code Changes</a>
			<ul>
				<li><a href="#submitting.patch">Submitting a patch</a></li>
				<li><a href="#committing.changes">Committing changes to subversion</a></li>
			</ul>
    </li>
        <li><a href="#source.code.repository.web.access">Web Access to Subversion</a></li>
     <!-- 
        <li><a href="#building.with.maven">Building UIMA from Source</a>
			<ul>
				<li><a href="#building.command.line">Building from the command line</a></li>
				<li><a href="#building.eclipse">Building from Eclipse</a></li>
				<li><a href="#test.failure">What to do if the tests fail</a></li>
				<li><a href="#build.distribution">How to build the full Apache UIMA distribution</a></li>
				<li><a href="#building.docbooks">Building uima-docbooks</a></li>
			</ul>
        </li>
       -->
    
      </ul>
</p>
</section>

<section name="Source Code Repository" id="source.code.repository">

<p>Apache UIMA uses 
<a  class="external" rel="nofollow noopener" target="_blank" href="https://subversion.apache.org">
Subversion</a> and
<a class="external" rel="nofollow noopener" target="_blank" href="https://github.com/apache">
Git</a> 
to manage its source code.  uimaj, uimaFIT, and uima-cpp have moved to GIT, the other projects are in SVN.
</p>


<p>
  The code for UIMA is stored in several repositories:</p>
  <ol>
    <li>uimaj - the Java code for base UIMA</li>
    <li>uima-as - the Asynchronous Scaleout add-on for base UIMA</li>
    <li>addons - a collection of add-ons for UIMA including annotators</li>
    <li>sandbox - a collection of new things for UIMA, not yet released</li>
    <li>uimacpp - the C++ framework supporting Annotators written in C++</li>
    <li>build - Build information and configurations used in building from sources</li>
  </ol>
<p>  
  Each of these have multiple branches: trunk or master - for the latest, tags - for preserved copies of releases, 
  and branches for special development efforts. 
</p>

<p>
To receive notice of commits to the repository subscribe to 
<a  href="mailto:commits@uima.apache.org">
commits@uima.apache.org</a> by sending email to 
<a  href="mailto:commits-subscribe@uima.apache.org">
commits-subscribe@uima.apache.org</a>. 
</p>


<h2 id="git-projs">UIMA projects in GIT</h2>
  <p>The UIMA projects 
  <a class="external" rel="nofollow noopener" target="_blank" href="https://github.com/apache/uima-uimaj">uimaj</a>,
  <a class="external" rel="nofollow noopener" target="_blank" href="https://github.com/apache/uima-uimacpp">uimacpp</a>, and
  <a class="external" rel="nofollow noopener" target="_blank" href="https://github.com/apache/uima-uimafit">uimaFIT</a>
  are at github in the apache organization.  More information
  on GIT use is <a rel="nofollow noopener" target="_blank" href="git.html">git.html</a>.
</p>



<subsection name="Web Access to Subversion" id="source.code.repository.web.access">
<p>See <a href="one-time-setup.html#svn-setup">SVN setup</a> for details on how to setup SVN.</p>

<p>
If you just want to browse the source code in SVN, you can use the
<a class="external" rel="nofollow noopener" 
href="https://svn.apache.org/viewvc/uima">
viewvc web interface</a> to Subversion.  This is current at all times.
</p>
</subsection>
</section>

<section name="Checking Out Code Using Subversion" id="checkout.code">

<p>Anyone can check code out of Subversion.  Username and password 
  are only needed to update the Subversion repository; only
UIMA committers can do that.
If you are a committer, are working from behind a firewall, or are 
connected to the internet through a proxy server, please see the sections 
below for more information.
</p>

<subsection name="Anonymous check out from Subversion" id="anonymous.checkout">
<p>Use a command like:</p>
  <longquote><code>% svn checkout https://svn.apache.org/repos/asf/uima/uimaj/trunk</code></longquote>
<p>Once you have Apache UIMA checked out you can update your working copy
  of the checked-out sources, to pick up any changes committed since you
  checked things out, 
  by executing the following command from within the UIMA directory. </p>
<longquote><code>% svn update</code></longquote>
</subsection>
<subsection name="Access from behind a firewall" id="access.firewall">

<p>For those users who are behind a corporate firewall which is 
blocking http access to the Subversion repository, you can try to access it 
via HTTPS: </p>
<longquote><code>% svn checkout https://svn.apache.org/repos/asf/uima/uimaj/trunk</code></longquote>
</subsection>
<subsection name="Access through a proxy" id="access.proxy">

<p>The Subversion client can go through a proxy, if you configure it 
to do so. First, edit your "servers" configuration file to indicate which 
proxy to use. The location of this configuration file depends on your operating system. 
On Linux or Unix it is located in the directory "~/.subversion". 
On Windows it is in "%APPDATA%\Subversion". (Try "echo %APPDATA%", 
note this is a hidden directory.) </p>
<p>There are comments in the file explaining what to do. If you don't have 
that file, get the latest Subversion client and run any command; this will 
cause the configuration directory and template files to be created. 
</p>
<p>Example : Edit the 'servers' file and add something like : 
</p>
<longquote><pre>
[global]
http-proxy-host = your.proxy.name
http-proxy-port = 3128
</pre></longquote>

</subsection>

<subsection name="Committer access" id="committer.access">

<p>Everyone can access the Apache UIMA Subversion repository via HTTPS. 
Apache UIMA Committers must checkout the Subversion repository 
via HTTPS (not HTTP), in order to be able to check in changes. 
</p>
<longquote><code>% svn checkout https://svn.apache.org/repos/asf/uima/uimaj/trunk</code></longquote>
</subsection>
	
</section>

<section name="Submitting Code Changes" id="submit.code.changes">
<subsection name="Submitting a patch" id="submitting.patch">

<p>If you make changes to Apache UIMA, and would like to contribute 
this to the project, you should open a JIRA issue and discuss the changes 
with the developer community. If there is agreement,
create a patch and attach it to the JIRA issue.
</p>
<p>
To create a patch, use the Eclipse Team <code>-></code> Create Patch command 
select the project in the Package Explorer, right click it to find 
the Team menu in the context menu).  Or, use the command line and
execute the svn diff command. This creates a patch that
can easily be uploaded to a JIRA issue. A good name for the patch includes
the JIRA issue name, e.g. UIMA-104.patch. If there are several patches
for the same JIRA issue, you might include a short identifying 
  description, or your initials, e.g.
UIMA-104.clr.patch 
</p>
<longquote><pre>
% svn diff &gt; UIMA-104.clr.patch
</pre></longquote>
</subsection>

<subsection name="Committing changes to subversion" id="committing.changes">
<p>
To commit changes to the subversion repository, you must be an Apache 
UIMA committer.  See <a href="get-involved.html">get involved</a> 
for information on how to become a committer and how to set up your 
password once you become a committer.
</p>

<p>
Once your password is set, you can commit from Eclipse using the 
<code>Team -> commit</code> context menu.  You can do this on an individual file,
a set of files or directories (multi-select), or on whole project(s).
You can also commit from the command line like this:
</p>
<longquote><pre>
$&gt; svn commit --username your-username \
 Authentication realm: &lt;https://svn.apache.org:443&gt; \
 ASF Committers Password for 'your-username': your-password
</pre></longquote>
<p>You can also pass your password on the command line directly, but 
this is a security problem on multiuser unix computers (the command line 
arguments are available via the ps command).  Here is the command if you 
are Windows or a single user unix computer: 
</p>
<longquote><pre>
$&gt; svn commit --username your-username \
  --password your-password
</pre></longquote>
<p>Remember to replace 'your-username' and 'your-password' with 
your actual username and password on svn.apache.org. 
</p>
<p>
Please also add to your commit statement an appropriate message that explains the changes you did.
You can add a message when adding <code>--message</code> to your commit statement:
</p>
<longquote><pre>
$&gt; svn commit --username your-username \
  --password your-password --message your-message
</pre></longquote>
<p>
Please always enter the JIRA issue key or keys (if more than one issue) and optionally, the JIRA issue link
to the commit message. The issue key (e.g., UIMA-555) is important so that the JIRA SVN plugin can detect the
changes automatically. Only specifying the issue link does not work correctly, for details
please see the JIRA issue <a  class="external" rel="nofollow noopener" href="https://jira.atlassian.com/browse/SVN-37">
https://jira.atlassian.com/browse/SVN-37</a>.
</p>
</subsection>
</section>

<!-- 
<section name="Building UIMA">
<subsection name="Building UIMA from Source" id="building.with.maven">
<p>
  See <a href="building-uima.html">Building UIMA</a>.
</p>

<p>
  The source can be obtained in two ways:
  <ol><li>You can checkout the source from SVN, from trunk, or a particular tagged release, or</li>
    <li>you can use the source version of the release artifact you download from the download
      page.</li></ol>
</p>
   
</subsection>	

<subsection name="How to build the full Apache UIMA distribution" id="build.distribution">
  
  <p>Distributions include zip/tar packages of source or binaries.
    Please refer to <a href="distribution.html">Building a distribution</a> for
    details on how to do this.</p>
  
  <p>
    To build a distribution, first do a build as described in "Building from the command line".  
    Then (assuming you set up the Eclipse path using one of the first 2 methods, execute the following:
<longquote><pre>
cd ../uimaj-distr
mvn install
</pre></longquote>
</p>
<p>
This will build the javadocs, and will create
.zip and .tar.gz archives of the full UIMA distribution in the <code>uimaj-distr/target</code> 
directory.

</p>

<p>Similarly, for building the uima-as add-on distribution, first be sure you've built 
  the projects themselves (see above) and then do:
<longquote><pre>
cd ..\uima-as-distr
mvn install
</pre></longquote>
</p>


<p>Sandbox projects are built for distribution individually, by cd-ing to the individual
  sandbox project and running "mvn install".  Note that this may not work on projects that
  are not advanced to the point where they are released - not all projects in the Sandbox are
  in a state where they are buildable.
</p>

</subsection>

</section>
  -->

  <!--
<section name="Using Subversion on Windows with cygwin">

<p>If you use Subversion on Windows under cygwin, you may find that the 
Subversion client automatically assigns the executable property to 
non-executable files. In that case, you would see this at the bottom of 
an <em>svn diff</em> of the file: 
</p>
<pre>
Property changes on: test/sql/derby/datastoreidentity/schema1.sql
___________________________________________________________________
Name: svn:executable
   + *
</pre>
<p>This section explains the source of the problem and suggests some 
actions to avoid it. 
</p>

<subsection name="Background">

<p>Subversion carries executable information in the built-in property 
called svn:executable.  This property, unlike others,  may be present 
or absent, but it has no value.  You can add it or delete it, but you 
cannot change its value. 
</p>
<p>In theory, Subversion ignores Windows file permissions and by default 
does not set svn:executable. However, cygwin svn acts like Unix svn and 
determines the svn:executable property based on file permissions. 
</p>
<p>If you create a file from the cygwin command line, by default it is 
executable only if the filename ends with .bat, .com or .exe, or if its 
content starts with #!. [This is what the doc says, but you may see -x 
for all files.] If you create a file using a Windows tool, by default 
its Windows permissions are executable by all. Cygwin interprets the 
Unix-style permissions this way as well. If the file is executable by all, 
cygwin svn sets the svn:executable property on the file when you invoke 
<em>svn add</em>. 
</p>
</subsection>
<subsection name="Removing existing executable properties from the repository">

<p>You can use svn propdel to remove the svn:executable property from your 
working copy. 
</p>
<pre>
    svn propdel -R svn:executable .
</pre>
<p>will recursively remove the svn:executable property from all of the 
files below the current directory.  You can use this and commit the 
files to clean the repository if necessary. 
</p>

</subsection>
<subsection name="Preventing Subversion from adding unwanted executable 
properties">

<p>Windows/cygwin users who don't want to have to think about using <em>svn 
propdel</em> or <em>chmod</em> on each added file can use a non-cygwin 
version of svn. The Subversion 1.2.3 Win32 binaries, downloadable from the 
link at the bottom of <a  rel="nofollow noopener" 
href="https://subversion.tigris.org/project_packages.html">
https://subversion.tigris.org/project_packages.html</a>, appear to work 
well. After installation add the svn.exe location to your Windows PATH 
variable. If you are switching from cygwin svn to Win32 svn </p>
<ol type="1">
<li>
<p>Remove the subversion component from your cygwin installation 
because when svn is invoked from a cygwin window, the cygwin version is 
found even if your cygwin/bin directory is later on the path. (In the 
Select Packages window of the setup wizard, navigate to the subversion 
package in the Devel. category.  Click on the status icon until Uninstall 
is displayed. Click next and continue through the wizard until installation 
is complete.) 
</p>
</li>
<li>
<p>Copy the servers file and the auth folder from the sygwin ~/.subversion 
directory to C:\Documents and 
Settings\&lt;user&gt;\Application Data\Subversion used by Win32 
subversion. 
</p>
</li>
</ol>
<p>Note that windows svn uses backslash as the path separator when 
displaying file names. You cannot just copy and paste this file name 
to another svn command when running from within a cygwin shell. 
You need to enclose the file name into double quotes. 
</p>
<p>Alternatively, Windows users can set file permissions in Windows 
Explorer. (Right-click on the top-level folder &amp; select Properties. 
Select the Security tab. Click Advanced. Remove all instances of 
Read &amp; Execute from the Permission Entries. Click "Reset permissions 
on all child objects and enable propogations of inheritable permissions". 
Click Apply. OK. OK.) You will have to do this again when you do a clean 
checkout to a new directory. 
</p>

</subsection>
</section>
    -->
</body>
</document>
