<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<document>

<properties>
<title>Checklist: Release</title>
<author email="dev@uima.apache.org">UIMA Documentation Team</author>
</properties>

<body>

<section name="Checklist: Release">
  
<p>Do <a href="one-time-release-setup.html">one-time setup</a> required for releasing.</p>
<ol>
  <li>Finish up any changes, close Jiras, assign Jiras to proper release(s).</li>
  <li>(If remerging a branch:  Note- best to do these if possible at the root of aggregations, 
    outside of Eclipse, so svn "batching" can work - will be quite a bit fraster)
    <ol><li>update branch working copy to head</li>
      <li>merge trunk head -> working copy (fully recursive)</li>
      <li>commit</li>
      <li>switch working copy to trunk (fully recursive)</li>
      <li>merge reintegrate branch -> trunk</li>
      <li>commit</li>
      <li>(cleanup at end- delete the old branch)</li>
    </ol>
  </li>
  <p>More details on next steps are 
    <a href="http://maven.apache.org/developers/release/apache-release.html">here</a></p>
  <li>Scan poms to be sure there are <b>no</b> unintentional -SNAPSHOTs</li>
  <li>Do next steps in top release aggregate.
    <ol>
      <li><code>mvn release:prepare -DdryRun=true</code> and diff the resulting poms
        to verify nothing unintentional is dropped</li>
      <li><code>mvn release:clean</code> to restore projects</li>
      <li><code>mvn deploy</code> to deploy snapshot</li>
      <li><code>mvn release:clean release:prepare</code></li>
      <li><code>mvn release:perform</code></li>      
    </ol>
  </li>
  <li>Repeat above steps for all things being released in one go (not already in an aggregate).</li>
  <li>login to <a href="https://repository.apache.org">https://repository.apache.org</a>
    using your Apache LDAP credentials, find the staging artifact, and right click - "close" it
    after all things that are being included in this release are present.</li>
  <li>Send [VOTE] message to dev list</li>
  <li>Post RESULT message, promote the release</li>
  <li>After release appears on central,
    <ol><li>update projects that used to depend on old (perhaps snapshot)
    versions of the released artifact(s) to depend on the released versions</li>
    <li>build/test these</li>
    <li>commit</li>
    <li>mvn deploy (the snapshots for the changed projects)</li>
    </ol>
    </li>
  <li>Update Jira version info to reflect the release status and date</li>
  <li>Post an announce letter</li>
  <li>Add release to next Board report</li>
  <li>Celebrate :-)</li>
</ol>
</section>

</body>
</document>
